{"ast":null,"code":"import { useCallback as e } from \"react\";\nimport o from \"../../../../hooks/useKeyEvent/index.js\";\nimport { keyCodes as s } from \"../../../../constants/keyCodes.js\";\nimport \"../../../../constants/sizes.js\";\nvar t = [s.ESCAPE, s.LEFT_ARROW, s.TAB];\nfunction n(n) {\n  var r = n.hasOpenSubMenu,\n    a = n.onCloseMenu,\n    i = n.ref,\n    p = n.onClose,\n    u = n.isSubMenu,\n    c = n.useDocumentEventListeners,\n    f = e(function (e) {\n      var o = e.key;\n      r || (o !== s.LEFT_ARROW || u) && [s.ESCAPE, s.LEFT_ARROW, s.TAB].includes(o) && (a({\n        propagate: !1\n      }), p && (p({\n        propagate: !1\n      }, o), e.preventDefault(), e.stopPropagation()));\n    }, [p, r, a, u]);\n  o({\n    keys: t,\n    callback: f,\n    ref: c ? void 0 : i\n  });\n}\nexport { n as default };","map":{"version":3,"names":["t","s","ESCAPE","LEFT_ARROW","TAB","n","r","hasOpenSubMenu","a","onCloseMenu","i","ref","p","onClose","u","isSubMenu","c","useDocumentEventListeners","f","e","o","key","includes","propagate","preventDefault","stopPropagation","keys","callback","default"],"sources":["/Users/ankish/Downloads/MA/MAPIT/untitledUi/node_modules/@vibe/core/src/components/Menu/Menu/hooks/useCloseMenuOnKeyEvent.tsx"],"sourcesContent":["import React, { useCallback } from \"react\";\nimport useKeyEvent from \"../../../../hooks/useKeyEvent\";\nimport { CloseMenuOption } from \"../MenuConstants\";\nimport { keyCodes } from \"../../../../constants\";\n\nconst KEYS = [keyCodes.ESCAPE, keyCodes.LEFT_ARROW, keyCodes.TAB];\n\nexport default function useCloseMenuOnKeyEvent({\n  hasOpenSubMenu,\n  onCloseMenu,\n  ref,\n  onClose,\n  isSubMenu,\n  useDocumentEventListeners\n}: {\n  hasOpenSubMenu: boolean;\n  onCloseMenu: (option: CloseMenuOption) => void;\n  ref: React.RefObject<HTMLElement>;\n  onClose: (option: CloseMenuOption, key?: string) => void;\n  isSubMenu: boolean;\n  useDocumentEventListeners: boolean;\n}) {\n  const onKeyEvent = useCallback(\n    (event: React.KeyboardEvent) => {\n      const key = event.key;\n\n      if (hasOpenSubMenu) return;\n\n      if (key === keyCodes.LEFT_ARROW && !isSubMenu) {\n        return;\n      }\n      if (![keyCodes.ESCAPE, keyCodes.LEFT_ARROW, keyCodes.TAB].includes(key)) {\n        return;\n      }\n\n      onCloseMenu({ propagate: false });\n\n      if (onClose) {\n        onClose({ propagate: false }, key);\n        event.preventDefault();\n        event.stopPropagation();\n      }\n    },\n    [onClose, hasOpenSubMenu, onCloseMenu, isSubMenu]\n  );\n\n  useKeyEvent({\n    keys: KEYS,\n    callback: onKeyEvent,\n    ref: useDocumentEventListeners ? undefined : ref\n  });\n}\n"],"mappings":";;;;AAKA,IAAMA,CAAA,GAAO,CAACC,CAAA,CAASC,MAAA,EAAQD,CAAA,CAASE,UAAA,EAAYF,CAAA,CAASG,GAAA;AAE/C,SAAUC,EAAsBA,CAAA;EAc7C,IAbCC,CAAA,GAAcD,CAAA,CAAdE,cAAA;IACAC,CAAA,GAAWH,CAAA,CAAXI,WAAA;IACAC,CAAA,GAAGL,CAAA,CAAHM,GAAA;IACAC,CAAA,GAAOP,CAAA,CAAPQ,OAAA;IACAC,CAAA,GAAST,CAAA,CAATU,SAAA;IACAC,CAAA,GAAyBX,CAAA,CAAzBY,yBAAA;IASMC,CAAA,GAAaC,CAAA,CACjB,UAACA,CAAA;MACC,IAAMC,CAAA,GAAMD,CAAA,CAAME,GAAA;MAEdf,CAAA,KAEAc,CAAA,KAAQnB,CAAA,CAASE,UAAA,IAAeW,CAAA,KAG/B,CAACb,CAAA,CAASC,MAAA,EAAQD,CAAA,CAASE,UAAA,EAAYF,CAAA,CAASG,GAAA,EAAKkB,QAAA,CAASF,CAAA,MAInEZ,CAAA,CAAY;QAAEe,SAAA,GAAW;MAAA,IAErBX,CAAA,KACFA,CAAA,CAAQ;QAAEW,SAAA,GAAW;MAAA,GAASH,CAAA,GAC9BD,CAAA,CAAMK,cAAA,IACNL,CAAA,CAAMM,eAAA,IAET;IAAA,GACD,CAACb,CAAA,EAASN,CAAA,EAAgBE,CAAA,EAAaM,CAAA;EAGzCM,CAAA,CAAY;IACVM,IAAA,EAAM1B,CAAA;IACN2B,QAAA,EAAUT,CAAA;IACVP,GAAA,EAAKK,CAAA,QAA4B,IAAYN;EAAA,EAEjD;AAAA;AAAA,SAAAL,CAAA,IAAAuB,OAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}