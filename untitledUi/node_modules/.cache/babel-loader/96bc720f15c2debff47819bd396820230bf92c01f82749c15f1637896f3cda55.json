{"ast":null,"code":"import { slicedToArray as e, defineProperty as t } from \"../../../_virtual/_rollupPluginBabelHelpers.js\";\nimport o, { useMemo as r, useCallback as i, cloneElement as l } from \"react\";\nimport a from \"react-dom\";\nimport n from \"classnames\";\nimport { useA11yDialog as s } from \"./a11yDialog.js\";\nimport d from \"./LegacyModalContent/LegacyModalContent.js\";\nimport m from \"./LegacyModalHeader/LegacyModalHeader.js\";\nimport c from \"./useBodyScrollLock.js\";\nimport u from \"./useShowHideModal.js\";\nimport { ModalWidth as f, validateTitleProp as p, isModalHeader as v, isModalContent as y, isModalFooter as g } from \"./ModalHelper.js\";\nimport { NOOP as j } from \"../../utils/function-utils.js\";\nimport { withStaticPropsWithoutForwardRef as h } from \"../../types/withStaticProps.js\";\nimport \"../../utils/colors-vars-map.js\";\nimport { getTestId as L } from \"../../tests/testIds.js\";\nimport { ComponentDefaultTestId as M } from \"../../tests/constants.js\";\nimport w from \"./LegacyModal.module.scss.js\";\nimport E from \"../LayerProvider/LayerProvider.js\";\nimport { isClient as C } from \"../../utils/ssr-utils.js\";\nvar A = h(function (f) {\n  var h = f.classNames,\n    A = void 0 === h ? {\n      container: \"\",\n      overlay: \"\",\n      modal: \"\"\n    } : h,\n    b = f.id,\n    D = f.show,\n    O = f.title,\n    P = void 0 === O ? \"\" : O,\n    H = f.description,\n    S = void 0 === H ? \"\" : H,\n    B = f.onClose,\n    N = void 0 === B ? j : B,\n    x = f.alertDialog,\n    _ = void 0 !== x && x,\n    k = f.children,\n    z = f.triggerElement,\n    I = f.width,\n    R = void 0 === I ? \"default\" : I,\n    T = f.closeButtonAriaLabel,\n    V = void 0 === T ? \"Close\" : T,\n    Y = f.contentSpacing,\n    $ = void 0 !== Y && Y,\n    q = f.zIndex,\n    F = void 0 === q ? 1e4 : q,\n    G = f.unmountOnClose,\n    J = void 0 === G || G,\n    K = f[\"data-testid\"],\n    Q = r(function () {\n      return k ? o.Children.toArray(k) : [];\n    }, [k]);\n  p(P, Q);\n  var U = s({\n      id: b,\n      alertDialog: _\n    }),\n    W = e(U, 2),\n    X = W[0],\n    Z = W[1],\n    ee = i(function () {\n      _ || null == N || N();\n    }, [_, N]);\n  c({\n    instance: X\n  });\n  var te = u({\n      instance: X,\n      show: D,\n      triggerElement: z,\n      onClose: N,\n      alertDialog: _\n    }).shouldShow,\n    oe = r(function () {\n      var e = Z.title.id,\n        t = Q.find(v);\n      return t ? l(t, {\n        id: e,\n        closeModal: N\n      }) : o.createElement(m, {\n        title: P,\n        description: S,\n        closeModal: N,\n        id: e,\n        closeButtonAriaLabel: V\n      });\n    }, [Z.title, Q, P, S, N, V]),\n    re = r(function () {\n      return Q.find(y) || o.createElement(d, null, Q.filter(function (e) {\n        return !v(e) && !g(e);\n      }));\n    }, [Q]),\n    ie = r(function () {\n      return Q.find(g) || null;\n    }, [Q]),\n    le = \"default\" !== R && \"full-width\" !== R,\n    ae = o.createElement(E, {\n      layerRef: {\n        current: null == X ? void 0 : X.$el\n      }\n    }, o.createElement(\"div\", Object.assign({}, Z.container, {\n      className: n(w.container, A.container),\n      \"data-testid\": K || L(M.MODAL, b),\n      style: {\n        \"--monday-modal-z-index\": F\n      }\n    }), o.createElement(\"div\", {\n      onClick: ee,\n      className: n(w.overlay, A.overlay),\n      \"data-testid\": M.MODAL_OVERLAY\n    }), o.createElement(\"div\", Object.assign({}, Z.dialog, {\n      className: n(w.dialog, A.modal, t(t(t({}, w.default, \"default\" === R), w.full, \"full-width\" === R), w.spacing, $)),\n      style: {\n        width: le ? R : null\n      }\n    }), oe, re, ie)));\n  return J && !te ? null : C() ? a.createPortal(ae, document.body) : null;\n}, {\n  width: f\n});\nexport { A as default };","map":{"version":3,"names":["A","h","f","classNames","container","overlay","modal","b","id","D","show","O","title","P","H","description","S","B","onClose","N","j","x","alertDialog","_","k","children","z","triggerElement","I","width","R","T","closeButtonAriaLabel","V","Y","contentSpacing","$","q","zIndex","F","G","unmountOnClose","J","K","Q","r","o","Children","toArray","p","U","s","W","e","X","Z","ee","i","c","instance","te","u","shouldShow","oe","t","find","v","l","closeModal","createElement","m","re","y","d","filter","g","ie","le","ae","E","layerRef","current","$el","Object","assign","className","n","w","L","M","MODAL","style","onClick","MODAL_OVERLAY","dialog","default","full","spacing","C","a","createPortal","document","body"],"sources":["/Users/ankish/Downloads/MA/MAPIT/untitledUi/node_modules/@vibe/core/src/components/LegacyModal/LegacyModal.tsx"],"sourcesContent":["import React, { cloneElement, ReactElement, useCallback, useMemo } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport cx from \"classnames\";\nimport { useA11yDialog } from \"./a11yDialog\";\nimport ModalContent from \"./LegacyModalContent/LegacyModalContent\";\nimport ModalHeader from \"./LegacyModalHeader/LegacyModalHeader\";\nimport useBodyScrollLock from \"./useBodyScrollLock\";\nimport useShowHideModal from \"./useShowHideModal\";\nimport {\n  isModalContent,\n  isModalFooter,\n  isModalHeader,\n  ModalWidth as ModalWidthEnum,\n  validateTitleProp\n} from \"./ModalHelper\";\nimport { NOOP } from \"../../utils/function-utils\";\nimport { withStaticPropsWithoutForwardRef } from \"../../types\";\nimport { getTestId } from \"../../tests/test-ids-utils\";\nimport { ComponentDefaultTestId } from \"../../tests/constants\";\nimport styles from \"./LegacyModal.module.scss\";\nimport { ModalWidth } from \"./LegacyModal.types\";\nimport LayerProvider from \"../LayerProvider/LayerProvider\";\nimport { isClient } from \"../../utils/ssr-utils\";\n\nexport interface LegacyModalProps {\n  /**\n   * Id of the modal, used internally and for accessibility\n   */\n  id?: string;\n  \"data-testid\"?: string;\n  /**\n   * Show/hide the Dialog\n   */\n  show: boolean;\n  /**\n   * Heading for the modal, mandatory when ModalHeader isn't provided in children\n   */\n  title?: string;\n  /**\n   * Description for the modal title\n   */\n  description?: string;\n  /**\n   * Called when the modal is closed (by close button/click outside/esc key)\n   */\n  onClose: () => void;\n  /**\n   *  Makes the dialog behave like a modal (preventing closing on click outside of\n   *  ESC key)..\n   */\n  alertDialog?: boolean;\n  /**\n   *  Used for the fromOrigin animation\n   */\n  triggerElement?: Element;\n  /**\n   *  Set the modal's width. Can be one of the presets or any custom size\n   */\n  width?: ModalWidth | string;\n  /**\n   *  Aria label for the close button\n   */\n  closeButtonAriaLabel?: string;\n  /**\n   *  Add gaps between parts of the modal\n   */\n  contentSpacing?: boolean;\n  /**\n   *  classNames for specific parts of the dialog\n   */\n  classNames?: {\n    container?: string;\n    overlay?: string;\n    modal?: string;\n  };\n  /**\n   *  Dialog content\n   */\n  children?: ReactElement | ReactElement[];\n  /**\n   * z-index attribute of the container\n   */\n  zIndex?: number;\n  /**\n   * When `false`, the modal will remain in the DOM when closed\n   */\n  unmountOnClose?: boolean;\n}\n\nconst Modal = ({\n  classNames = { container: \"\", overlay: \"\", modal: \"\" },\n  id,\n  show,\n  title = \"\",\n  description = \"\",\n  onClose = NOOP,\n  alertDialog = false,\n  children,\n  triggerElement,\n  width = \"default\",\n  closeButtonAriaLabel = \"Close\",\n  contentSpacing = false,\n  zIndex = 10000,\n  unmountOnClose = true,\n  \"data-testid\": dataTestId\n}: LegacyModalProps) => {\n  const childrenArray: ReactElement[] = useMemo(\n    () => (children ? (React.Children.toArray(children) as ReactElement[]) : []),\n    [children]\n  );\n  validateTitleProp(title, childrenArray);\n\n  const [instance, attr] = useA11yDialog({\n    id,\n    alertDialog\n  });\n\n  const closeIfNotAlertType = useCallback(() => {\n    if (!alertDialog) {\n      onClose?.();\n    }\n  }, [alertDialog, onClose]);\n\n  // lock body scroll when modal is open\n  useBodyScrollLock({ instance });\n\n  // show/hide and animate the modal\n  const { shouldShow } = useShowHideModal({\n    instance,\n    show,\n    triggerElement,\n    onClose,\n    alertDialog\n  });\n\n  const header = useMemo(() => {\n    const { id } = attr.title;\n    const header = childrenArray.find(isModalHeader);\n    if (header) {\n      return cloneElement(header, { id, closeModal: onClose });\n    }\n    return (\n      <ModalHeader\n        title={title}\n        description={description}\n        closeModal={onClose}\n        id={id}\n        closeButtonAriaLabel={closeButtonAriaLabel}\n      />\n    );\n  }, [attr.title, childrenArray, title, description, onClose, closeButtonAriaLabel]);\n\n  const content = useMemo(() => {\n    return (\n      childrenArray.find(isModalContent) || (\n        <ModalContent>{childrenArray.filter(child => !isModalHeader(child) && !isModalFooter(child))}</ModalContent>\n      )\n    );\n  }, [childrenArray]);\n\n  const footer = useMemo(() => {\n    return childrenArray.find(isModalFooter) || null;\n  }, [childrenArray]);\n\n  const customWidth = width !== \"default\" && width !== \"full-width\";\n\n  const dialog = (\n    <LayerProvider layerRef={{ current: instance?.$el }}>\n      <div\n        {...attr.container}\n        className={cx(styles.container, classNames.container)}\n        data-testid={dataTestId || getTestId(ComponentDefaultTestId.MODAL, id)}\n        style={{ \"--monday-modal-z-index\": zIndex }}\n      >\n        {/* eslint-disable-next-line jsx-a11y/click-events-have-key-events */}\n        <div\n          onClick={closeIfNotAlertType}\n          className={cx(styles.overlay, classNames.overlay)}\n          data-testid={ComponentDefaultTestId.MODAL_OVERLAY}\n        />\n        <div\n          {...attr.dialog}\n          className={cx(styles.dialog, classNames.modal, {\n            [styles.default]: width === \"default\",\n            [styles.full]: width === \"full-width\",\n            [styles.spacing]: contentSpacing\n          })}\n          style={{ width: customWidth ? width : null }}\n        >\n          {header}\n          {content}\n          {footer}\n        </div>\n      </div>\n    </LayerProvider>\n  );\n\n  if (unmountOnClose && !shouldShow) {\n    return null;\n  }\n  return isClient() ? ReactDOM.createPortal(dialog, document.body) : null;\n};\n\ninterface LegacyModalStaticProps {\n  width: typeof ModalWidthEnum;\n}\n\nexport default withStaticPropsWithoutForwardRef<LegacyModalProps, LegacyModalStaticProps>(Modal, {\n  width: ModalWidthEnum\n});\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}