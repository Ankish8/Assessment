{"ast":null,"code":"import { objectWithoutProperties as e, slicedToArray as t, defineProperty as n, extends as o } from \"../../../../../_virtual/_rollupPluginBabelHelpers.js\";\nimport i, { useState as a, useEffect as l, useCallback as r } from \"react\";\nimport { components as s } from \"react-select\";\nimport c from \"classnames\";\nimport { useHiddenOptionsData as u } from \"../../hooks/useHiddenOptionsData.js\";\nimport p from \"../../../Counter/Counter.js\";\nimport m from \"../../../Dialog/Dialog.js\";\nimport d from \"../../../DialogContentContainer/DialogContentContainer.js\";\nimport h from \"../../../Chips/Chips.js\";\nimport f from \"./MultiValueContainer.module.scss.js\";\nvar v = [\"children\", \"selectProps\"];\nfunction g(g) {\n  var C = g.children,\n    D = g.selectProps,\n    E = e(g, v),\n    w = D.isDisabled,\n    N = D.placeholder,\n    P = D.inputValue,\n    b = D.selectProps,\n    y = void 0 === b ? {} : b,\n    j = D.withMandatoryDefaultOptions,\n    M = D.readOnly,\n    O = y.selectedOptions,\n    k = y.onSelectedDelete,\n    S = y.isMultiline,\n    x = y.popupsContainerSelector,\n    A = y.size,\n    T = y.dialogClassName,\n    R = C[1],\n    V = a(),\n    B = t(V, 2),\n    H = B[0],\n    I = B[1],\n    F = a(!1),\n    W = t(F, 2),\n    _ = W[0],\n    z = W[1],\n    q = a(!1),\n    G = t(q, 2),\n    J = G[0],\n    K = G[1],\n    L = 0 === O.length && !P,\n    Q = f[\"chip-with-input-wrapper\"],\n    U = c(S ? f[\"multiselect-chip-multi-line\"] : f[\"multiselect-chip-single-line-\".concat(A)], n({}, f[\"multiselect-chip-disabled\"], w)),\n    X = u({\n      isMultiline: S,\n      ref: H,\n      chipClassName: U,\n      chipWrapperClassName: Q,\n      selectedOptionsCount: O.length,\n      isCounterShown: _\n    }),\n    Y = X.overflowIndex,\n    Z = X.hiddenOptionsCount;\n  l(function () {\n    z(Z > 0);\n  }, [Z]);\n  var $ = r(function () {\n      K(!0);\n    }, []),\n    ee = r(function () {\n      K(!1);\n    }, []),\n    te = r(function (e) {\n      k(e.value, {\n        action: \"remove-value\",\n        removedValue: e\n      });\n    }, [k]),\n    ne = [\"primary\", \"negative\", \"positive\"],\n    oe = r(function () {\n      var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,\n        t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : O.length;\n      return O.map(function (n, o) {\n        var a = ne.includes(n.chipColor) ? n.chipColor : \"primary\";\n        return o >= e && t > o ? i.createElement(h, {\n          \"data-testid\": \"value-container-chip\",\n          key: n.value,\n          className: c(f.chips, U),\n          noAnimation: !0,\n          disabled: w,\n          id: n.value,\n          label: n.label,\n          onDelete: function () {\n            return te(n);\n          },\n          disableClickableBehavior: !0,\n          onMouseDown: function (e) {\n            e.stopPropagation();\n          },\n          readOnly: M || j && n.isMandatory,\n          allowTextSelection: M,\n          leftRenderer: n.leftRenderer,\n          rightRenderer: n.rightRenderer,\n          leftAvatar: n.leftAvatar,\n          leftIcon: n.leftIcon,\n          color: a\n        }) : null;\n      });\n    }, [O, U, w, M, j, te, A]);\n  return i.createElement(s.ValueContainer, o({\n    selectProps: D\n  }, E), i.createElement(\"div\", {\n    className: f[\"value-container\"],\n    onTouchEndCapture: function (e) {\n      e.stopPropagation();\n    }\n  }, L && i.createElement(\"div\", {\n    className: f[\"placeholder-container\"]\n  }, i.createElement(s.Placeholder, E, N)), i.createElement(\"div\", {\n    className: c(f[\"value-container-chips\"], n({}, f[\"without-placeholder\"], !L)),\n    ref: function (e) {\n      return I(e);\n    },\n    \"data-testid\": \"value-container-chips\"\n  }, _ ? i.createElement(i.Fragment, null, oe(0, Y - 1), i.createElement(\"div\", {\n    className: Q\n  }, oe(Y - 1, Y), R), oe(Y)) : i.createElement(i.Fragment, null, oe(0, O.length - 1), i.createElement(\"div\", {\n    className: Q\n  }, oe(O.length - 1), R))), i.createElement(\"div\", null, _ && i.createElement(m, {\n    content: function () {\n      return i.createElement(d, {\n        className: f.valueDialogContent,\n        onMouseDown: function (e) {\n          e.stopPropagation();\n        }\n      }, oe(Y));\n    },\n    containerSelector: x,\n    tooltip: !0,\n    showTrigger: \"click\",\n    hideTrigger: \"clickoutside\",\n    position: \"bottom\",\n    moveBy: {\n      main: 5\n    },\n    wrapperClassName: T,\n    onDialogDidShow: $,\n    onDialogDidHide: ee\n  }, i.createElement(p, {\n    kind: \"line\",\n    prefix: \"+\",\n    count: Z,\n    counterClassName: c(f.dropdownCounter, n({}, f.active, J)),\n    onMouseDown: function (e) {\n      e.stopPropagation();\n    },\n    noAnimation: !0\n  })))));\n}\nexport { g as default };","map":{"version":3,"names":["g","C","children","D","selectProps","E","e","v","w","isDisabled","N","placeholder","P","inputValue","b","y","j","withMandatoryDefaultOptions","M","readOnly","O","selectedOptions","k","onSelectedDelete","S","isMultiline","x","popupsContainerSelector","A","size","T","dialogClassName","R","V","a","B","t","H","I","F","W","_","z","q","G","J","K","L","length","Q","f","U","c","concat","n","X","u","ref","chipClassName","chipWrapperClassName","selectedOptionsCount","isCounterShown","Y","overflowIndex","Z","hiddenOptionsCount","l","$","r","ee","te","value","action","removedValue","ne","oe","arguments","map","o","includes","chipColor","i","createElement","h","key","className","chips","noAnimation","disabled","id","label","onDelete","disableClickableBehavior","onMouseDown","stopPropagation","isMandatory","allowTextSelection","leftRenderer","rightRenderer","leftAvatar","leftIcon","color","s","ValueContainer","onTouchEndCapture","Placeholder","Fragment","m","content","d","valueDialogContent","containerSelector","tooltip","showTrigger","hideTrigger","position","moveBy","main","wrapperClassName","onDialogDidShow","onDialogDidHide","p","kind","prefix","count","counterClassName","dropdownCounter","active","default"],"sources":["/Users/ankish/Downloads/MA/MAPIT/untitledUi/node_modules/@vibe/core/src/components/Dropdown/components/MultiValueContainer/MultiValueContainer.jsx"],"sourcesContent":["import React, { useCallback, useEffect, useState } from \"react\";\nimport { components } from \"react-select\";\nimport cx from \"classnames\";\nimport { useHiddenOptionsData } from \"../../hooks/useHiddenOptionsData\";\nimport Counter from \"../../../Counter/Counter\";\nimport Dialog from \"../../../Dialog/Dialog\";\nimport DialogContentContainer from \"../../../DialogContentContainer/DialogContentContainer\";\nimport Chips from \"../../../Chips/Chips\";\nimport classes from \"./MultiValueContainer.module.scss\";\n\nconst DIALOG_OFFSET_Y = 5;\n\nexport default function Container({ children, selectProps, ...otherProps }) {\n  const {\n    isDisabled,\n    placeholder,\n    inputValue,\n    selectProps: customProps = {},\n    withMandatoryDefaultOptions,\n    readOnly\n  } = selectProps;\n  const { selectedOptions, onSelectedDelete, isMultiline, popupsContainerSelector, size, dialogClassName } =\n    customProps;\n  const clickHandler = children[1];\n  const [ref, setRef] = useState();\n  const [isCounterShown, setIsCounterShown] = useState(false);\n  const [isDialogOpen, setIsDialogOpen] = useState(false);\n  const showPlaceholder = selectedOptions.length === 0 && !inputValue;\n  const chipWrapperClassName = classes[\"chip-with-input-wrapper\"];\n  const chipClassName = cx(\n    isMultiline ? classes[\"multiselect-chip-multi-line\"] : classes[`multiselect-chip-single-line-${size}`],\n    { [classes[\"multiselect-chip-disabled\"]]: isDisabled }\n  );\n\n  const { overflowIndex, hiddenOptionsCount } = useHiddenOptionsData({\n    isMultiline,\n    ref,\n    chipClassName,\n    chipWrapperClassName,\n    selectedOptionsCount: selectedOptions.length,\n    isCounterShown\n  });\n\n  useEffect(() => {\n    setIsCounterShown(hiddenOptionsCount > 0);\n  }, [hiddenOptionsCount]);\n\n  const handleDialogShow = useCallback(() => {\n    setIsDialogOpen(true);\n  }, []);\n\n  const handleDialogHide = useCallback(() => {\n    setIsDialogOpen(false);\n  }, []);\n\n  const onDelete = useCallback(\n    option => {\n      onSelectedDelete(option.value, { action: \"remove-value\", removedValue: option });\n    },\n    [onSelectedDelete]\n  );\n\n  const DropdownChipColors = [\"primary\", \"negative\", \"positive\"];\n  const renderOptions = useCallback(\n    (from = 0, to = selectedOptions.length) =>\n      selectedOptions.map((option, index) => {\n        const overrideChipColor = DropdownChipColors.includes(option.chipColor) ? option.chipColor : \"primary\";\n        return index >= from && index < to ? (\n          <Chips\n            data-testid=\"value-container-chip\"\n            key={option.value}\n            className={cx(classes.chips, chipClassName)}\n            noAnimation\n            disabled={isDisabled}\n            id={option.value}\n            label={option.label}\n            onDelete={() => onDelete(option)}\n            disableClickableBehavior\n            onMouseDown={e => {\n              e.stopPropagation();\n            }}\n            readOnly={readOnly || (withMandatoryDefaultOptions && option.isMandatory)}\n            allowTextSelection={readOnly}\n            leftRenderer={option.leftRenderer}\n            rightRenderer={option.rightRenderer}\n            leftAvatar={option.leftAvatar}\n            leftIcon={option.leftIcon}\n            color={overrideChipColor}\n          />\n        ) : null;\n      }),\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [selectedOptions, chipClassName, isDisabled, readOnly, withMandatoryDefaultOptions, onDelete, size]\n  );\n\n  return (\n    <components.ValueContainer selectProps={selectProps} {...otherProps}>\n      <div\n        className={classes[\"value-container\"]}\n        onTouchEndCapture={e => {\n          e.stopPropagation();\n        }}\n      >\n        {showPlaceholder && (\n          <div className={classes[\"placeholder-container\"]}>\n            <components.Placeholder {...otherProps}>{placeholder}</components.Placeholder>\n          </div>\n        )}\n        <div\n          className={cx(classes[\"value-container-chips\"], { [classes[\"without-placeholder\"]]: !showPlaceholder })}\n          ref={newRef => setRef(newRef)}\n          data-testid=\"value-container-chips\"\n        >\n          {isCounterShown ? (\n            <>\n              {renderOptions(0, overflowIndex - 1)}\n              <div className={chipWrapperClassName}>\n                {renderOptions(overflowIndex - 1, overflowIndex)}\n                {clickHandler}\n              </div>\n              {renderOptions(overflowIndex)}\n            </>\n          ) : (\n            <>\n              {renderOptions(0, selectedOptions.length - 1)}\n              <div className={chipWrapperClassName}>\n                {renderOptions(selectedOptions.length - 1)}\n                {clickHandler}\n              </div>\n            </>\n          )}\n        </div>\n        <div>\n          {isCounterShown && (\n            <Dialog\n              content={() => (\n                <DialogContentContainer\n                  className={classes.valueDialogContent}\n                  onMouseDown={e => {\n                    e.stopPropagation();\n                  }}\n                >\n                  {renderOptions(overflowIndex)}\n                </DialogContentContainer>\n              )}\n              containerSelector={popupsContainerSelector}\n              tooltip\n              showTrigger=\"click\"\n              hideTrigger=\"clickoutside\"\n              position=\"bottom\"\n              moveBy={{ main: DIALOG_OFFSET_Y }}\n              wrapperClassName={dialogClassName}\n              onDialogDidShow={handleDialogShow}\n              onDialogDidHide={handleDialogHide}\n            >\n              <Counter\n                kind=\"line\"\n                prefix=\"+\"\n                count={hiddenOptionsCount}\n                counterClassName={cx(classes.dropdownCounter, { [classes.active]: isDialogOpen })}\n                onMouseDown={e => {\n                  e.stopPropagation();\n                }}\n                noAnimation\n              />\n            </Dialog>\n          )}\n        </div>\n      </div>\n    </components.ValueContainer>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}