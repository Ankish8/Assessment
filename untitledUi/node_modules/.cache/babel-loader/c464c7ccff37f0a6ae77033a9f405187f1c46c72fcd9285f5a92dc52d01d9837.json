{"ast":null,"code":"import { defineProperty as e } from \"../../../_virtual/_rollupPluginBabelHelpers.js\";\nimport o, { useRef as t, useCallback as r } from \"react\";\nimport n from \"classnames\";\nimport i from \"../Counter/Counter.js\";\nimport a from \"../MenuButton/MenuButton.js\";\nimport l from \"../Menu/Menu/Menu.js\";\nimport s from \"../Menu/MenuItem/AvatarMenuItem.js\";\nimport u from \"./AvatarGroupCounterTooltipContainer.js\";\nimport { getStyle as m } from \"../../helpers/typesciptCssModulesHelper.js\";\nimport { avatarOnClick as c } from \"./AvatarGroupHelper.js\";\nimport p from \"./AvatarGroupCounter.module.scss.js\";\nimport { AVATAR_GROUP_COUNTER_AVATAR_SIZE as d } from \"./AvatarGroupConstants.js\";\nvar v = function (v) {\n  var f = v.counterTooltipAvatars,\n    b = void 0 === f ? [] : f,\n    C = v.counterTooltipCustomProps,\n    x = v.counterTooltipIsVirtualizedList,\n    I = void 0 !== x && x,\n    j = v.size,\n    M = void 0 === j ? \"medium\" : j,\n    P = v.type,\n    g = v.counterAriaLabel,\n    E = v.disabled,\n    A = v.counterProps || {},\n    z = A.color,\n    L = void 0 === z ? \"light\" : z,\n    N = A.count,\n    T = void 0 === N ? b.length : N,\n    h = A.prefix,\n    y = void 0 === h ? \"+\" : h,\n    G = A.maxDigits,\n    k = void 0 === G ? 3 : G,\n    B = A.ariaLabelItemsName,\n    D = void 0 === B ? \"items\" : B,\n    H = A.noAnimation,\n    O = A.dialogContainerSelector,\n    R = A.tabIndex,\n    S = void 0 === R ? 0 : R,\n    V = m(p, null == M ? void 0 : \"\" + M),\n    _ = p[L],\n    U = t(null),\n    q = t(null),\n    w = t(null),\n    F = r(function () {\n      return o.createElement(i, {\n        color: L,\n        count: T,\n        prefix: y,\n        maxDigits: k,\n        ariaLabel: g || \"Tab for more \".concat(D),\n        noAnimation: H,\n        counterClassName: n(e({}, p.disabled, E)),\n        size: \"xs\" === M ? \"xs\" : void 0\n      });\n    }, [g, D, L, k, y, T, E, H]);\n  return b.length || T ? E ? o.createElement(\"div\", {\n    ref: w,\n    className: n(p.counterContainer, p.disabled, V, _)\n  }, F()) : b.some(function (e) {\n    var o;\n    return null === (o = e.props) || void 0 === o ? void 0 : o.onClick;\n  }) ? o.createElement(a, {\n    component: F,\n    zIndex: 1,\n    className: n(p.counterContainer, V, _),\n    ariaLabel: g || \"\".concat(T, \" additional \").concat(D),\n    dialogContainerSelector: O\n  }, o.createElement(l, {\n    id: \"menu\",\n    size: l.sizes.MEDIUM,\n    className: p.menu,\n    focusItemIndexOnMount: 0\n  }, b.map(function (e, t) {\n    var r, n, i, a;\n    return o.createElement(s, {\n      menuItemProps: {\n        key: (null === (r = e.props) || void 0 === r ? void 0 : r.id) || t + \"\",\n        title: (null === (i = null === (n = e.props) || void 0 === n ? void 0 : n.tooltipProps) || void 0 === i ? void 0 : i.content) || (null === (a = null == e ? void 0 : e.props) || void 0 === a ? void 0 : a.ariaLabel),\n        onClick: function (o) {\n          return c(o, e.props);\n        }\n      },\n      avatarProps: Object.assign(Object.assign({}, e.props), {\n        customSize: d,\n        ariaLabel: \"\",\n        tabIndex: -1\n      })\n    });\n  }))) : o.createElement(u, {\n    focusPrevPlaceholderRef: U,\n    focusNextPlaceholderRef: q,\n    counterContainerRef: w,\n    avatars: b,\n    counterTooltipCustomProps: C,\n    counterTooltipIsVirtualizedList: I,\n    type: P\n  }, o.createElement(\"div\", {\n    tabIndex: -1,\n    ref: U\n  }), o.createElement(\"div\", {\n    tabIndex: S,\n    className: n(p.counterContainer, V, _),\n    ref: w\n  }, F(), o.createElement(\"div\", {\n    tabIndex: -1,\n    ref: q\n  }))) : null;\n};\nexport { v as default };","map":{"version":3,"names":["v","AvatarGroupCounter","f","counterTooltipAvatars","b","C","counterTooltipCustomProps","x","counterTooltipIsVirtualizedList","I","j","size","M","P","type","g","counterAriaLabel","E","disabled","A","counterProps","z","color","L","N","count","T","length","h","prefix","y","G","maxDigits","k","B","ariaLabelItemsName","D","H","noAnimation","O","dialogContainerSelector","R","tabIndex","S","V","m","p","_","U","t","q","w","F","r","o","createElement","i","ariaLabel","concat","counterClassName","n","e","ref","className","counterContainer","some","props","onClick","a","component","zIndex","l","id","sizes","MEDIUM","menu","focusItemIndexOnMount","map","s","menuItemProps","key","title","tooltipProps","content","c","avatarProps","Object","assign","customSize","d","u","focusPrevPlaceholderRef","focusNextPlaceholderRef","counterContainerRef","avatars","default"],"sources":["/Users/ankish/Downloads/MA/MAPIT/untitledUi/node_modules/@vibe/core/src/components/AvatarGroup/AvatarGroupCounter.tsx"],"sourcesContent":["import React, { ReactElement, useCallback, useRef } from \"react\";\nimport cx from \"classnames\";\nimport { AvatarProps } from \"../Avatar/Avatar\";\nimport Counter from \"../Counter/Counter\";\nimport MenuButton from \"../MenuButton/MenuButton\";\nimport Menu from \"../Menu/Menu/Menu\";\nimport AvatarMenuItem from \"../Menu/MenuItem/AvatarMenuItem\";\nimport AvatarGroupCounterTooltipContainer from \"./AvatarGroupCounterTooltipContainer\";\nimport VibeComponentProps from \"../../types/VibeComponentProps\";\nimport { AvatarSize, AvatarType } from \"../Avatar/Avatar.types\";\nimport { getStyle } from \"../../helpers/typesciptCssModulesHelper\";\nimport { AvatarGroupCounterVisualProps } from \"./AvatarGroup.types\";\nimport { TooltipProps } from \"../Tooltip/Tooltip\";\nimport { avatarOnClick } from \"./AvatarGroupHelper\";\nimport styles from \"./AvatarGroupCounter.module.scss\";\nimport { AVATAR_GROUP_COUNTER_AVATAR_SIZE } from \"./AvatarGroupConstants\";\n\nexport interface AvatarGroupCounterProps extends VibeComponentProps {\n  /**\n   * The list of avatars hidden behind the counter.\n   */\n  counterTooltipAvatars?: ReactElement<AvatarProps>[];\n  /**\n   * Props for customizing the counter appearance.\n   */\n  counterProps?: AvatarGroupCounterVisualProps;\n  /**\n   * Props for customizing the counter tooltip.\n   */\n  counterTooltipCustomProps?: Partial<TooltipProps>;\n  /**\n   * If true, the counter tooltip uses a virtualized list for performance optimization.\n   */\n  counterTooltipIsVirtualizedList?: boolean;\n  /**\n   * The size of the counter.\n   */\n  size?: AvatarSize;\n  /**\n   * The type of the avatars in the counter.\n   */\n  type?: AvatarType;\n  /**\n   * The label of the counter for accessibility.\n   */\n  counterAriaLabel?: string;\n  /**\n   * If true, the counter is disabled and non-interactive.\n   */\n  disabled?: boolean;\n}\n\nconst AvatarGroupCounter: React.FC<AvatarGroupCounterProps> = ({\n  counterTooltipAvatars = [],\n  counterProps,\n  counterTooltipCustomProps,\n  counterTooltipIsVirtualizedList = false,\n  size = \"medium\",\n  type,\n  counterAriaLabel,\n  disabled\n}: AvatarGroupCounterProps) => {\n  const {\n    color: counterColor = \"light\",\n    count: counterValue = counterTooltipAvatars.length,\n    prefix: counterPrefix = \"+\",\n    maxDigits: counterMaxDigits = 3,\n    ariaLabelItemsName: counterAriaLabelItemsName = \"items\",\n    noAnimation,\n    dialogContainerSelector,\n    tabIndex: counterTabIndex = 0\n  } = counterProps || {};\n\n  const counterSizeStyle = getStyle(styles, size?.toString());\n  const counterColorStyle = styles[counterColor];\n\n  const focusPrevPlaceholderRef = useRef(null);\n  const focusNextPlaceholderRef = useRef(null);\n  const counterContainerRef = useRef(null);\n  const counterComponent = useCallback(() => {\n    return (\n      <Counter\n        color={counterColor}\n        count={counterValue}\n        prefix={counterPrefix}\n        maxDigits={counterMaxDigits}\n        ariaLabel={counterAriaLabel ? counterAriaLabel : `Tab for more ${counterAriaLabelItemsName}`}\n        noAnimation={noAnimation}\n        counterClassName={cx({ [styles.disabled]: disabled })}\n        size={size === \"xs\" ? \"xs\" : undefined}\n      />\n    );\n  }, [\n    counterAriaLabel,\n    counterAriaLabelItemsName,\n    counterColor,\n    counterMaxDigits,\n    counterPrefix,\n    counterValue,\n    disabled,\n    noAnimation\n  ]);\n\n  if (!counterTooltipAvatars.length && !counterValue) {\n    return null;\n  }\n\n  if (disabled) {\n    return (\n      <div\n        ref={counterContainerRef}\n        className={cx(styles.counterContainer, styles.disabled, counterSizeStyle, counterColorStyle)}\n      >\n        {counterComponent()}\n      </div>\n    );\n  }\n\n  const areAvatarsClickable = counterTooltipAvatars.some(a => a.props?.onClick);\n  if (areAvatarsClickable) {\n    return (\n      <MenuButton\n        component={counterComponent}\n        zIndex={1}\n        className={cx(styles.counterContainer, counterSizeStyle, counterColorStyle)}\n        ariaLabel={counterAriaLabel ? counterAriaLabel : `${counterValue} additional ${counterAriaLabelItemsName}`}\n        dialogContainerSelector={dialogContainerSelector}\n      >\n        <Menu id=\"menu\" size={Menu.sizes.MEDIUM} className={styles.menu} focusItemIndexOnMount={0}>\n          {counterTooltipAvatars.map((avatar, index) => {\n            return (\n              // eslint-disable-next-line react/jsx-key\n              <AvatarMenuItem\n                menuItemProps={{\n                  key: avatar.props?.id || String(index),\n                  title: (avatar.props?.tooltipProps?.content as string) || avatar?.props?.ariaLabel,\n                  onClick: (event: React.MouseEvent | React.KeyboardEvent) => avatarOnClick(event, avatar.props)\n                }}\n                avatarProps={{\n                  ...avatar.props,\n                  customSize: AVATAR_GROUP_COUNTER_AVATAR_SIZE,\n                  ariaLabel: \"\",\n                  tabIndex: -1\n                }}\n              />\n            );\n          })}\n        </Menu>\n      </MenuButton>\n    );\n  }\n\n  return (\n    <AvatarGroupCounterTooltipContainer\n      focusPrevPlaceholderRef={focusPrevPlaceholderRef}\n      focusNextPlaceholderRef={focusNextPlaceholderRef}\n      counterContainerRef={counterContainerRef}\n      avatars={counterTooltipAvatars}\n      counterTooltipCustomProps={counterTooltipCustomProps}\n      counterTooltipIsVirtualizedList={counterTooltipIsVirtualizedList}\n      type={type}\n    >\n      <div tabIndex={-1} ref={focusPrevPlaceholderRef} />\n      {/* eslint-disable jsx-a11y/no-noninteractive-tabindex */}\n      <div\n        tabIndex={counterTabIndex}\n        className={cx(styles.counterContainer, counterSizeStyle, counterColorStyle)}\n        ref={counterContainerRef}\n      >\n        {/* eslint-enable jsx-a11y/no-noninteractive-tabindex */}\n        {counterComponent()}\n        <div tabIndex={-1} ref={focusNextPlaceholderRef} />\n      </div>\n    </AvatarGroupCounterTooltipContainer>\n  );\n};\n\nexport default AvatarGroupCounter;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}