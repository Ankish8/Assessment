{"ast":null,"code":"import { useCallback as e, useMemo as t } from \"react\";\nimport { NavDirections as n, ARROW_DOWN_KEYS as s, ARROW_UP_KEYS as a, ENTER_KEYS as i, HOME_KEYS as c, END_KEYS as o } from \"../../../../hooks/useFullKeyboardListeners.js\";\nimport r from \"../../../../hooks/useKeyEvent/index.js\";\nfunction u(u) {\n  var f = u.hasOpenSubMenu,\n    l = u.getNextSelectableIndex,\n    b = u.getPreviousSelectableIndex,\n    k = u.activeItemIndex,\n    v = u.setActiveItemIndex,\n    m = u.isVisible,\n    g = u.ref,\n    p = u.useDocumentEventListeners,\n    O = e(function (e) {\n      var t;\n      if (f) return !1;\n      e === n.DOWN ? t = l(k) : e === n.UP && (t = b(k)), (t || 0 === t) && v(t);\n    }, [k, l, b, f, v]),\n    d = e(function () {\n      O(n.UP);\n    }, [O]),\n    j = e(function () {\n      O(n.DOWN);\n    }, [O]),\n    x = e(function (e) {\n      m && -1 === k && v(0);\n    }, [v, k, m]),\n    y = e(function () {\n      if (!f) {\n        var e = l(-1);\n        -1 !== e && v(e);\n      }\n    }, [f, l, v]),\n    I = e(function () {\n      if (!f) {\n        var e = b(0);\n        -1 !== e && v(e);\n      }\n    }, [f, b, v]),\n    D = t(function () {\n      if (!p) return {\n        ref: g,\n        preventDefault: !0,\n        stopPropagation: !0\n      };\n    }, [p, g]);\n  r(Object.assign({\n    keys: s,\n    callback: j\n  }, D)), r(Object.assign({\n    keys: a,\n    callback: d\n  }, D)), r(Object.assign({\n    keys: i,\n    callback: x\n  }, D)), r(Object.assign({\n    keys: c,\n    callback: y\n  }, D)), r(Object.assign({\n    keys: o,\n    callback: I\n  }, D));\n}\nexport { u as default };","map":{"version":3,"names":["u","f","hasOpenSubMenu","l","getNextSelectableIndex","b","getPreviousSelectableIndex","k","activeItemIndex","v","setActiveItemIndex","m","isVisible","g","ref","p","useDocumentEventListeners","O","e","t","n","DOWN","UP","d","j","x","y","I","D","preventDefault","stopPropagation","r","Object","assign","keys","s","callback","a","i","c","o","default"],"sources":["/Users/ankish/Downloads/MA/MAPIT/untitledUi/node_modules/@vibe/core/src/components/Menu/Menu/hooks/useMenuKeyboardNavigation.tsx"],"sourcesContent":["import React, { useCallback, useMemo } from \"react\";\nimport {\n  ARROW_DOWN_KEYS,\n  ARROW_UP_KEYS,\n  ENTER_KEYS,\n  HOME_KEYS,\n  END_KEYS,\n  NavDirections\n} from \"../../../../hooks/useFullKeyboardListeners\";\nimport useKeyEvent from \"../../../../hooks/useKeyEvent\";\n\nexport default function useMenuKeyboardNavigation({\n  hasOpenSubMenu,\n  getNextSelectableIndex,\n  getPreviousSelectableIndex,\n  activeItemIndex,\n  setActiveItemIndex,\n  isVisible,\n  ref,\n  useDocumentEventListeners\n}: {\n  hasOpenSubMenu: boolean;\n  getNextSelectableIndex: (index: number) => number;\n  getPreviousSelectableIndex: (index: number) => number;\n  activeItemIndex: number;\n  setActiveItemIndex: (index: number) => void;\n  isVisible: boolean;\n  ref: React.RefObject<HTMLElement>;\n  useDocumentEventListeners: boolean;\n}) {\n  const onArrowKeyEvent = useCallback(\n    (direction: NavDirections) => {\n      let newIndex;\n\n      if (hasOpenSubMenu) return false;\n\n      if (direction === NavDirections.DOWN) {\n        newIndex = getNextSelectableIndex(activeItemIndex);\n      } else if (direction === NavDirections.UP) {\n        newIndex = getPreviousSelectableIndex(activeItemIndex);\n      }\n\n      if (newIndex || newIndex === 0) setActiveItemIndex(newIndex);\n    },\n    [activeItemIndex, getNextSelectableIndex, getPreviousSelectableIndex, hasOpenSubMenu, setActiveItemIndex]\n  );\n  const onArrowUp = useCallback(() => {\n    onArrowKeyEvent(NavDirections.UP);\n  }, [onArrowKeyEvent]);\n\n  const onArrowDown = useCallback(() => {\n    onArrowKeyEvent(NavDirections.DOWN);\n  }, [onArrowKeyEvent]);\n\n  const onEnterClickCallback = useCallback(\n    (_event: React.KeyboardEvent) => {\n      if (!isVisible) return;\n\n      if (activeItemIndex === -1) {\n        setActiveItemIndex(0);\n      }\n    },\n    [setActiveItemIndex, activeItemIndex, isVisible]\n  );\n\n  const onHomeKey = useCallback(() => {\n    if (hasOpenSubMenu) return;\n    const firstIndex = getNextSelectableIndex(-1);\n    if (firstIndex !== -1) {\n      setActiveItemIndex(firstIndex);\n    }\n  }, [hasOpenSubMenu, getNextSelectableIndex, setActiveItemIndex]);\n\n  const onEndKey = useCallback(() => {\n    if (hasOpenSubMenu) return;\n    const lastIndex = getPreviousSelectableIndex(0);\n    if (lastIndex !== -1) {\n      setActiveItemIndex(lastIndex);\n    }\n  }, [hasOpenSubMenu, getPreviousSelectableIndex, setActiveItemIndex]);\n\n  const listenerOptions = useMemo(() => {\n    if (useDocumentEventListeners) return undefined;\n\n    return {\n      ref,\n      preventDefault: true,\n      stopPropagation: true\n    };\n  }, [useDocumentEventListeners, ref]);\n\n  useKeyEvent({\n    keys: ARROW_DOWN_KEYS,\n    callback: onArrowDown,\n    ...listenerOptions\n  });\n\n  useKeyEvent({\n    keys: ARROW_UP_KEYS,\n    callback: onArrowUp,\n    ...listenerOptions\n  });\n\n  useKeyEvent({\n    keys: ENTER_KEYS,\n    callback: onEnterClickCallback,\n    ...listenerOptions\n  });\n\n  useKeyEvent({\n    keys: HOME_KEYS,\n    callback: onHomeKey,\n    ...listenerOptions\n  });\n\n  useKeyEvent({\n    keys: END_KEYS,\n    callback: onEndKey,\n    ...listenerOptions\n  });\n}\n"],"mappings":";;;AAWwB,SAAAA,EAAyBA,CAAA;EAkBhD,IAjBCC,CAAA,GAAcD,CAAA,CAAdE,cAAA;IACAC,CAAA,GAAsBH,CAAA,CAAtBI,sBAAA;IACAC,CAAA,GAA0BL,CAAA,CAA1BM,0BAAA;IACAC,CAAA,GAAeP,CAAA,CAAfQ,eAAA;IACAC,CAAA,GAAkBT,CAAA,CAAlBU,kBAAA;IACAC,CAAA,GAASX,CAAA,CAATY,SAAA;IACAC,CAAA,GAAGb,CAAA,CAAHc,GAAA;IACAC,CAAA,GAAyBf,CAAA,CAAzBgB,yBAAA;IAWMC,CAAA,GAAkBC,CAAA,CACtB,UAACA,CAAA;MACC,IAAIC,CAAA;MAEJ,IAAIlB,CAAA,EAAgB,QAAO;MAEvBiB,CAAA,KAAcE,CAAA,CAAcC,IAAA,GAC9BF,CAAA,GAAWhB,CAAA,CAAuBI,CAAA,IACzBW,CAAA,KAAcE,CAAA,CAAcE,EAAA,KACrCH,CAAA,GAAWd,CAAA,CAA2BE,CAAA,KAGpCY,CAAA,IAAyB,MAAbA,CAAA,KAAgBV,CAAA,CAAmBU,CAAA,CACrD;IAAA,GACA,CAACZ,CAAA,EAAiBJ,CAAA,EAAwBE,CAAA,EAA4BJ,CAAA,EAAgBQ,CAAA;IAElFc,CAAA,GAAYL,CAAA,CAAY;MAC5BD,CAAA,CAAgBG,CAAA,CAAcE,EAAA,CAChC;IAAA,GAAG,CAACL,CAAA;IAEEO,CAAA,GAAcN,CAAA,CAAY;MAC9BD,CAAA,CAAgBG,CAAA,CAAcC,IAAA,CAChC;IAAA,GAAG,CAACJ,CAAA;IAEEQ,CAAA,GAAuBP,CAAA,CAC3B,UAACA,CAAA;MACMP,CAAA,KAEoB,MAArBJ,CAAA,IACFE,CAAA,CAAmB,EAEtB;IAAA,GACD,CAACA,CAAA,EAAoBF,CAAA,EAAiBI,CAAA;IAGlCe,CAAA,GAAYR,CAAA,CAAY;MAC5B,KAAIjB,CAAA,EAAJ;QACA,IAAMiB,CAAA,GAAaf,CAAA,EAAwB;QAAA,CACvB,MAAhBe,CAAA,IACFT,CAAA,CAAmBS,CAAA,CAHD;MAAA;IAKrB,GAAE,CAACjB,CAAA,EAAgBE,CAAA,EAAwBM,CAAA;IAEtCkB,CAAA,GAAWT,CAAA,CAAY;MAC3B,KAAIjB,CAAA,EAAJ;QACA,IAAMiB,CAAA,GAAYb,CAAA,CAA2B;QAAA,CAC1B,MAAfa,CAAA,IACFT,CAAA,CAAmBS,CAAA,CAHD;MAAA;IAKrB,GAAE,CAACjB,CAAA,EAAgBI,CAAA,EAA4BI,CAAA;IAE1CmB,CAAA,GAAkBT,CAAA,CAAQ;MAC9B,KAAIJ,CAAA,EAEJ,OAAO;QACLD,GAAA,EAAAD,CAAA;QACAgB,cAAA,GAAgB;QAChBC,eAAA,GAAiB;MAAA,CAErB;IAAA,GAAG,CAACf,CAAA,EAA2BF,CAAA;EAE/BkB,CAAA,CAAWC,MAAA,CAAAC,MAAA;IACTC,IAAA,EAAMC,CAAA;IACNC,QAAA,EAAUZ;EAAA,GACPI,CAAA,IAGLG,CAAA,CAAWC,MAAA,CAAAC,MAAA;IACTC,IAAA,EAAMG,CAAA;IACND,QAAA,EAAUb;EAAA,GACPK,CAAA,IAGLG,CAAA,CAAWC,MAAA,CAAAC,MAAA;IACTC,IAAA,EAAMI,CAAA;IACNF,QAAA,EAAUX;EAAA,GACPG,CAAA,IAGLG,CAAA,CAAWC,MAAA,CAAAC,MAAA;IACTC,IAAA,EAAMK,CAAA;IACNH,QAAA,EAAUV;EAAA,GACPE,CAAA,IAGLG,CAAA,CAAWC,MAAA,CAAAC,MAAA;IACTC,IAAA,EAAMM,CAAA;IACNJ,QAAA,EAAUT;EAAA,GACPC,CAAA,EAEP;AAAA;AAAA,SAAA5B,CAAA,IAAAyC,OAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}