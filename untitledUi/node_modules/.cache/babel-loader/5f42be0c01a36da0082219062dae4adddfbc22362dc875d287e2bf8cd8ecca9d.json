{"ast":null,"code":"import { slicedToArray as r } from \"../../../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { useState as t } from \"react\";\nimport n from \"../../../hooks/ssr/useIsomorphicLayoutEffect.js\";\nvar e = 0,\n  u = function () {\n    return \"list-\".concat(e++);\n  },\n  i = [\"option\", \"listitem\", \"menuitem\", \"tab\", \"treeitem\"],\n  o = function (e) {\n    var i = t(),\n      o = r(i, 2),\n      c = o[0],\n      f = o[1];\n    return n(function () {\n      f(e || u());\n    }, [e]), c;\n  },\n  c = function (r, t) {\n    var n;\n    return null === (n = r.current[t]) || void 0 === n ? void 0 : n.id;\n  },\n  f = function (r, t) {\n    return r.current.findIndex(function (r) {\n      return (null == r ? void 0 : r.id) === t;\n    });\n  },\n  l = function (r) {\n    switch (r) {\n      case \"ul\":\n      case \"ol\":\n        return \"li\";\n      case \"nav\":\n        return \"a\";\n      default:\n        return \"div\";\n    }\n  },\n  a = function (r) {\n    return r && r instanceof HTMLElement && i.includes(r.getAttribute(\"role\"));\n  },\n  s = function (r, t) {\n    for (; t.current.length - 1 > r;) {\n      var n = t.current[++r];\n      if (a(n)) return r;\n    }\n  },\n  m = function (r, t) {\n    for (; r > 0;) {\n      var n = t.current[--r];\n      if (a(n)) return r;\n    }\n  };\nexport { u as generateListId, l as getListItemComponentType, c as getListItemIdByIndex, f as getListItemIndexById, s as getNextListItemIndex, m as getPrevListItemIndex, a as isListItem, o as useListId };","map":{"version":3,"names":["e","u","generateListId","concat","i","o","useListId","t","r","c","f","n","getListItemIdByIndex","current","id","getListItemIndexById","findIndex","l","getListItemComponentType","a","isListItem","HTMLElement","includes","getAttribute","s","getNextListItemIndex","length","m","getPrevListItemIndex"],"sources":["/Users/ankish/Downloads/MA/MAPIT/untitledUi/node_modules/@vibe/core/src/components/List/utils/ListUtils.ts"],"sourcesContent":["import { MutableRefObject, useState } from \"react\";\nimport { ListItemElement } from \"../../ListItem/ListItem.types\";\nimport { ListElement } from \"../List.types\";\nimport useIsomorphicLayoutEffect from \"../../../hooks/ssr/useIsomorphicLayoutEffect\";\n\nlet listIdCounter = 0;\nexport const generateListId = () => {\n  return `list-${listIdCounter++}`;\n};\n\nconst VALID_ROLES = [\"option\", \"listitem\", \"menuitem\", \"tab\", \"treeitem\"];\n\nexport const useListId = (id: string) => {\n  const [listId, setListId] = useState<string>();\n  useIsomorphicLayoutEffect(() => {\n    setListId(id || generateListId());\n  }, [id]);\n  return listId;\n};\n\nexport const getListItemIdByIndex = (childrenRefs: MutableRefObject<HTMLElement[]>, index: number): string => {\n  return childrenRefs.current[index]?.id;\n};\n\nexport const getListItemIndexById = (childrenRefs: MutableRefObject<HTMLElement[]>, id: string): number => {\n  return childrenRefs.current.findIndex(child => child?.id === id);\n};\n\nexport const getListItemComponentType = (listComponent: ListElement): ListItemElement => {\n  switch (listComponent) {\n    case \"ul\":\n    case \"ol\":\n      return \"li\";\n    case \"nav\":\n      return \"a\";\n    default:\n      return \"div\";\n  }\n};\n\nexport const isListItem = (element: HTMLElement) => {\n  return element && element instanceof HTMLElement && VALID_ROLES.includes(element.getAttribute(\"role\"));\n};\n\nexport const getNextListItemIndex = (currentIndex: number, childrenRefs: MutableRefObject<HTMLElement[]>) => {\n  while (currentIndex < childrenRefs.current.length - 1) {\n    const child = childrenRefs.current[++currentIndex];\n    if (isListItem(child)) {\n      return currentIndex;\n    }\n  }\n  return undefined;\n};\n\nexport const getPrevListItemIndex = (currentIndex: number, childrenRefs: MutableRefObject<HTMLElement[]>) => {\n  while (currentIndex > 0) {\n    const child = childrenRefs.current[--currentIndex];\n    if (isListItem(child)) {\n      return currentIndex;\n    }\n  }\n  return undefined;\n};\n"],"mappings":";;;AAKA,IAAIA,CAAA,GAAgB;EACPC,CAAA,GAAiB,SAAAC,CAAA;IAC5B,eAAAC,MAAA,CAAeH,CAAA,GACjB;EAAA;EAEMI,CAAA,GAAc,CAAC,UAAU,YAAY,YAAY,OAAO;EAEjDC,CAAA,GAAY,SAAAC,CAACN,CAAA;IACxB,IAAAI,CAAA,GAA4BG,CAAA;MAAkBF,CAAA,GAAAG,CAAA,CAAAJ,CAAA;MAAvCK,CAAA,GAAMJ,CAAA;MAAEK,CAAA,GAASL,CAAA;IAIxB,OAHAM,CAAA,CAA0B;MACxBD,CAAA,CAAUV,CAAA,IAAMC,CAAA,GAClB;IAAA,GAAG,CAACD,CAAA,IACGS,CACT;EAAA;EAEaA,CAAA,GAAuB,SAAAG,CAACJ,CAAA,EAA+CD,CAAA;IAAA,IAAAI,CAAA;IAClF,OAAoC,UAA7BA,CAAA,GAAAH,CAAA,CAAaK,OAAA,CAAQN,CAAA,WAAQ,MAAAI,CAAA,YAAAA,CAAA,CAAAG,EACtC;EAAA;EAEaJ,CAAA,GAAuB,SAAAK,CAACP,CAAA,EAA+CD,CAAA;IAClF,OAAOC,CAAA,CAAaK,OAAA,CAAQG,SAAA,CAAU,UAAAR,CAAA;MAAK,QAAI,QAAAA,CAAA,YAAAA,CAAA,CAAOM,EAAA,MAAOP,CAAA;IAAA,EAC/D;EAAA;EAEaU,CAAA,GAA2B,SAAAC,CAACV,CAAA;IACvC,QAAQA,CAAA;MACN,KAAK;MACL,KAAK;QACH,OAAO;MACT,KAAK;QACH,OAAO;MACT;QACE,OAAO;IAAA;EAEb;EAEaW,CAAA,GAAa,SAAAC,CAACZ,CAAA;IACzB,OAAOA,CAAA,IAAWA,CAAA,YAAmBa,WAAA,IAAejB,CAAA,CAAYkB,QAAA,CAASd,CAAA,CAAQe,YAAA,CAAa,QAChG;EAAA;EAEaC,CAAA,GAAuB,SAAAC,CAACjB,CAAA,EAAsBD,CAAA;IACzD,OAAsBA,CAAA,CAAaM,OAAA,CAAQa,MAAA,GAAS,IAA7ClB,CAAA,GAAgD;MACrD,IAAMG,CAAA,GAAQJ,CAAA,CAAaM,OAAA,GAAUL,CAAA;MACrC,IAAIW,CAAA,CAAWR,CAAA,GACb,OAAOH,CAEV;IAAA;EAEH;EAEamB,CAAA,GAAuB,SAAAC,CAACpB,CAAA,EAAsBD,CAAA;IACzD,OAAOC,CAAA,GAAe,IAAG;MACvB,IAAMG,CAAA,GAAQJ,CAAA,CAAaM,OAAA,GAAUL,CAAA;MACrC,IAAIW,CAAA,CAAWR,CAAA,GACb,OAAOH,CAEV;IAAA;EAEH;AAAA,SAAAP,CAAA,IAAAC,cAAA,EAAAe,CAAA,IAAAC,wBAAA,EAAAT,CAAA,IAAAG,oBAAA,EAAAF,CAAA,IAAAK,oBAAA,EAAAS,CAAA,IAAAC,oBAAA,EAAAE,CAAA,IAAAC,oBAAA,EAAAT,CAAA,IAAAC,UAAA,EAAAf,CAAA,IAAAC,SAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}