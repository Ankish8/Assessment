{"ast":null,"code":"import { defineProperty as e } from \"../../../_virtual/_rollupPluginBabelHelpers.js\";\nimport a from \"classnames\";\nimport o, { forwardRef as r, useRef as t, useCallback as n } from \"react\";\nimport s from \"../../hooks/useMergeRef.js\";\nimport { getTestId as i, ComponentDefaultTestId as l } from \"../../tests/testIds.js\";\nimport c from \"./Search.module.scss.js\";\nimport d from \"../BaseInput/BaseInput.js\";\nimport m from \"../../hooks/useDebounceEvent/index.js\";\nimport u from \"../IconButton/IconButton.js\";\nimport p from \"../Icon/Icon.js\";\nimport f from \"../Loader/Loader.js\";\nimport { ComponentVibeId as v } from \"../../tests/constants.js\";\nimport h from \"../../../icons/dist/react/CloseSmall.js\";\nimport C from \"../../../icons/dist/react/Search.js\";\nvar I = r(function (r, I) {\n  var b,\n    j,\n    E,\n    R,\n    N,\n    g,\n    x,\n    y,\n    A,\n    B,\n    S = r.searchIconName,\n    L = void 0 === S ? C : S,\n    w = r.clearIconName,\n    z = void 0 === w ? h : w,\n    F = r.clearIconLabel,\n    H = void 0 === F ? \"Clear\" : F,\n    _ = r.renderAction,\n    k = r.hideRenderActionOnInput,\n    D = r.value,\n    P = r.placeholder,\n    T = r.size,\n    V = void 0 === T ? \"medium\" : T,\n    K = r.disabled,\n    O = r.loading,\n    M = r.autoFocus,\n    U = r.autoComplete,\n    W = void 0 === U ? \"off\" : U,\n    q = r.inputAriaLabel,\n    G = r.debounceRate,\n    J = void 0 === G ? 400 : G,\n    Q = r.searchResultsContainerId,\n    X = r.currentAriaResultId,\n    Y = r.onChange,\n    Z = r.onFocus,\n    $ = r.onBlur,\n    ee = r.onClear,\n    ae = r.onKeyDown,\n    oe = r.className,\n    re = r.ariaExpanded,\n    te = r.ariaHasPopup,\n    ne = r.showClearIcon,\n    se = void 0 === ne || ne,\n    ie = r.id,\n    le = r[\"data-testid\"];\n  return b = t(null), j = s(I, b), E = m({\n    delay: J,\n    onChange: Y,\n    initialStateValue: D\n  }), R = E.inputValue, N = E.onEventChanged, x = n(function () {\n    var e, a;\n    K || (null === (a = null === (e = b.current) || void 0 === e ? void 0 : e.focus) || void 0 === a || a.call(e), g(), null == ee || ee());\n  }, [K, g = E.clearValue, ee]), y = o.createElement(p, {\n    icon: L,\n    className: c.icon,\n    iconType: \"font\",\n    iconSize: \"small\" === V ? \"16px\" : \"20px\"\n  }), A = o.createElement(u, {\n    className: a(c.icon, e({}, c.empty, !R)),\n    icon: z,\n    ariaLabel: H,\n    onClick: x,\n    size: \"small\" === V ? \"xs\" : \"small\",\n    \"data-testid\": i(l.CLEAN_SEARCH_BUTTON, ie)\n  }), B = o.createElement(o.Fragment, null, O && o.createElement(f, {\n    size: \"small\" === V ? \"xs\" : 20,\n    color: \"secondary\",\n    wrapperClassName: a(e({}, c.loader, !R && !_))\n  }), se && R && !K && A, !(k && R) && _), o.createElement(d, {\n    ref: j,\n    id: ie,\n    type: \"search\",\n    \"data-testid\": le || i(l.SEARCH, ie),\n    \"data-vibe\": v.SEARCH,\n    className: a(c.searchWrapper, oe),\n    inputClassName: c.search,\n    value: R,\n    renderLeft: y,\n    renderRight: B,\n    autoFocus: M,\n    placeholder: P,\n    disabled: K,\n    onChange: N,\n    onBlur: $,\n    onFocus: Z,\n    onKeyDown: ae,\n    autoComplete: W,\n    size: V,\n    wrapperRole: \"search\",\n    inputRole: Q ? \"combobox\" : void 0,\n    \"aria-label\": q,\n    \"aria-busy\": O,\n    \"aria-controls\": re ? Q : void 0,\n    \"aria-activedescendant\": X,\n    \"aria-haspopup\": te,\n    \"aria-expanded\": re\n  });\n});\nexport { I as default };","map":{"version":3,"names":["I","r","b","j","E","R","N","g","x","y","A","B","S","searchIconName","L","C","w","clearIconName","z","h","F","clearIconLabel","H","_","renderAction","k","hideRenderActionOnInput","D","value","P","placeholder","T","size","V","K","disabled","O","loading","M","autoFocus","U","autoComplete","W","q","inputAriaLabel","G","debounceRate","J","Q","searchResultsContainerId","X","currentAriaResultId","Y","onChange","Z","onFocus","$","onBlur","ee","onClear","ae","onKeyDown","oe","className","re","ariaExpanded","te","ariaHasPopup","ne","showClearIcon","se","ie","id","le","t","s","m","delay","initialStateValue","inputValue","onEventChanged","n","e","a","current","focus","call","clearValue","o","createElement","p","icon","c","iconType","iconSize","u","empty","ariaLabel","onClick","i","l","CLEAN_SEARCH_BUTTON","Fragment","f","color","wrapperClassName","loader","d","ref","type","SEARCH","v","searchWrapper","inputClassName","search","renderLeft","renderRight","wrapperRole","inputRole","default"],"sources":["/Users/ankish/Downloads/MA/MAPIT/untitledUi/node_modules/@vibe/core/src/components/Search/Search.tsx"],"sourcesContent":["import cx from \"classnames\";\nimport React, { forwardRef, useCallback, useRef } from \"react\";\nimport useMergeRef from \"../../hooks/useMergeRef\";\nimport { CloseSmall as CloseSmallIcon, Search as SearchIcon } from \"@vibe/icons\";\nimport { ComponentDefaultTestId, getTestId } from \"../../tests/test-ids-utils\";\nimport styles from \"./Search.module.scss\";\nimport BaseInput from \"../BaseInput/BaseInput\";\nimport useDebounceEvent from \"../../hooks/useDebounceEvent\";\nimport IconButton from \"../IconButton/IconButton\";\nimport Icon from \"../Icon/Icon\";\nimport { SearchProps } from \"./Search.types\";\nimport Loader from \"../Loader/Loader\";\nimport { ComponentVibeId } from \"../../tests/constants\";\n\nconst Search = forwardRef(\n  (\n    {\n      searchIconName = SearchIcon,\n      clearIconName = CloseSmallIcon,\n      clearIconLabel = \"Clear\",\n      renderAction: RenderAction,\n      hideRenderActionOnInput,\n      value,\n      placeholder,\n      size = \"medium\",\n      disabled,\n      loading,\n      autoFocus,\n      autoComplete = \"off\",\n      inputAriaLabel,\n      debounceRate = 400,\n      searchResultsContainerId,\n      currentAriaResultId,\n      onChange,\n      onFocus,\n      onBlur,\n      onClear,\n      onKeyDown,\n      className,\n      ariaExpanded,\n      ariaHasPopup,\n      showClearIcon = true,\n      id,\n      \"data-testid\": dataTestId\n    }: SearchProps,\n    ref: React.ForwardedRef<HTMLInputElement>\n  ) => {\n    const inputRef = useRef(null);\n    const mergedRef = useMergeRef(ref, inputRef);\n\n    const { inputValue, onEventChanged, clearValue } = useDebounceEvent({\n      delay: debounceRate,\n      onChange,\n      initialStateValue: value\n    });\n\n    const onClearButtonClick = useCallback(() => {\n      if (disabled) return;\n      inputRef.current?.focus?.();\n      clearValue();\n      onClear?.();\n    }, [disabled, clearValue, onClear]);\n\n    const SearchIcon = (\n      <Icon\n        icon={searchIconName}\n        className={styles.icon}\n        iconType=\"font\"\n        iconSize={size === \"small\" ? \"16px\" : \"20px\"}\n      />\n    );\n\n    const ClearIcon = (\n      <IconButton\n        className={cx(styles.icon, { [styles.empty]: !inputValue })}\n        icon={clearIconName}\n        ariaLabel={clearIconLabel}\n        onClick={onClearButtonClick}\n        size={size === \"small\" ? \"xs\" : \"small\"}\n        data-testid={getTestId(ComponentDefaultTestId.CLEAN_SEARCH_BUTTON, id)}\n      />\n    );\n\n    const RenderRight = (\n      <>\n        {loading && (\n          <Loader\n            size={size === \"small\" ? \"xs\" : 20}\n            color=\"secondary\"\n            wrapperClassName={cx({ [styles.loader]: !inputValue && !RenderAction })}\n          />\n        )}\n        {showClearIcon && inputValue && !disabled && ClearIcon}\n        {!(hideRenderActionOnInput && inputValue) && RenderAction}\n      </>\n    );\n\n    return (\n      <BaseInput\n        ref={mergedRef}\n        id={id}\n        type={\"search\"}\n        data-testid={dataTestId || getTestId(ComponentDefaultTestId.SEARCH, id)}\n        data-vibe={ComponentVibeId.SEARCH}\n        className={cx(styles.searchWrapper, className)}\n        inputClassName={styles.search}\n        value={inputValue}\n        renderLeft={SearchIcon}\n        renderRight={RenderRight}\n        autoFocus={autoFocus}\n        placeholder={placeholder}\n        disabled={disabled}\n        onChange={onEventChanged}\n        onBlur={onBlur}\n        onFocus={onFocus}\n        onKeyDown={onKeyDown}\n        autoComplete={autoComplete}\n        size={size}\n        wrapperRole=\"search\"\n        inputRole={searchResultsContainerId ? \"combobox\" : undefined}\n        aria-label={inputAriaLabel}\n        aria-busy={loading}\n        aria-controls={ariaExpanded ? searchResultsContainerId : undefined}\n        aria-activedescendant={currentAriaResultId}\n        aria-haspopup={ariaHasPopup}\n        aria-expanded={ariaExpanded}\n      />\n    );\n  }\n);\n\nexport default Search;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}