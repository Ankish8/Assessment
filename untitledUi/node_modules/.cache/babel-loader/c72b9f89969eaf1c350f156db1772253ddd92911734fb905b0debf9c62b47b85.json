{"ast":null,"code":"import { slicedToArray as e } from \"../../../../../_virtual/_rollupPluginBabelHelpers.js\";\nimport n, { useContext as o, createContext as r, useState as t, useRef as u, useCallback as i, useMemo as l } from \"react\";\nvar v = r(void 0),\n  c = function (o) {\n    var r = o.value,\n      c = o.children,\n      a = r.tableRootRef,\n      d = r.hoveredRowRef,\n      s = r.isMenuOpen,\n      R = r.resetHoveredRow,\n      f = r.setHoveredRowRef,\n      w = r.setIsMenuOpen,\n      M = t(0),\n      p = e(M, 2),\n      b = p[0],\n      m = p[1],\n      h = u(!1),\n      g = i(function (e) {\n        if (!s) {\n          f(e);\n          var n = a.current.getBoundingClientRect().top,\n            o = e.current.getBoundingClientRect().top;\n          m(o - n);\n        }\n      }, [s, f, a]),\n      H = i(function () {\n        s || h.current || f(null);\n      }, [s, f]),\n      T = i(function () {\n        h.current = !0;\n      }, []),\n      B = i(function () {\n        h.current = !1, s || (null == d ? void 0 : d.current) || f(null);\n      }, [s, d, f]),\n      O = i(function () {\n        w(!0);\n      }, [w]),\n      P = i(function () {\n        w(!1);\n      }, [w]),\n      C = l(function () {\n        var e;\n        return {\n          hoveredRowId: null === (e = null == d ? void 0 : d.current) || void 0 === e ? void 0 : e.id,\n          resetHoveredRow: R,\n          menuButtonPosition: b,\n          onMouseOverRow: g,\n          onMouseLeaveRow: H,\n          onMouseOverRowMenu: T,\n          onMouseLeaveRowMenu: B,\n          setTableMenuShown: O,\n          setTableMenuHidden: P\n        };\n      }, [d, R, b, H, B, g, T, O, P]);\n    return n.createElement(v.Provider, {\n      value: C\n    }, c);\n  },\n  a = function () {\n    var e = o(v);\n    if (!e) throw Error(\"useTableRowMenuContext must be used within a TableRowMenuProvider\");\n    return e;\n  };\nexport { c as TableRowMenuProvider, a as useTableRowMenu };","map":{"version":3,"names":["v","r","c","TableRowMenuProvider","o","value","children","a","tableRootRef","d","hoveredRowRef","s","isMenuOpen","R","resetHoveredRow","f","setHoveredRowRef","w","setIsMenuOpen","M","t","p","e","b","m","h","u","g","i","n","current","getBoundingClientRect","top","H","T","B","O","P","C","l","hoveredRowId","id","menuButtonPosition","onMouseOverRow","onMouseLeaveRow","onMouseOverRowMenu","onMouseLeaveRowMenu","setTableMenuShown","setTableMenuHidden","createElement","Provider","useTableRowMenu","Error"],"sources":["/Users/ankish/Downloads/MA/MAPIT/untitledUi/node_modules/@vibe/core/src/components/Table/context/TableRowMenuContext/TableRowMenuContext.tsx"],"sourcesContent":["import React, { createContext, useCallback, useContext, useMemo, useRef, useState } from \"react\";\nimport { TableRowMenuContext as ITableRowMenuContext, TableRowMenuProviderProps } from \"./TableRowMenuContext.types\";\n\nconst TableRowMenuContext = createContext<ITableRowMenuContext | undefined>(undefined);\n\nexport const TableRowMenuProvider = ({ value, children }: TableRowMenuProviderProps) => {\n  const { tableRootRef, hoveredRowRef, isMenuOpen, resetHoveredRow, setHoveredRowRef, setIsMenuOpen } = value;\n  const [menuButtonPosition, setMenuButtonPosition] = useState(0);\n  const isMenuHovered = useRef(false);\n\n  const onMouseOverRow = useCallback(\n    (rowRef: React.RefObject<HTMLDivElement>) => {\n      if (isMenuOpen) return;\n\n      setHoveredRowRef(rowRef);\n      const tableRootTop = tableRootRef.current.getBoundingClientRect().top;\n      const rowTop = rowRef.current.getBoundingClientRect().top;\n      setMenuButtonPosition(rowTop - tableRootTop);\n    },\n    [isMenuOpen, setHoveredRowRef, tableRootRef]\n  );\n\n  const onMouseLeaveRow = useCallback(() => {\n    if (isMenuOpen || isMenuHovered.current) return;\n    setHoveredRowRef(null);\n  }, [isMenuOpen, setHoveredRowRef]);\n\n  const onMouseOverRowMenu = useCallback(() => {\n    isMenuHovered.current = true;\n  }, []);\n\n  const onMouseLeaveRowMenu = useCallback(() => {\n    isMenuHovered.current = false;\n    if (isMenuOpen) return;\n\n    if (!hoveredRowRef?.current) {\n      setHoveredRowRef(null);\n    }\n  }, [isMenuOpen, hoveredRowRef, setHoveredRowRef]);\n\n  const setTableMenuShown = useCallback(() => {\n    setIsMenuOpen(true);\n  }, [setIsMenuOpen]);\n\n  const setTableMenuHidden = useCallback(() => {\n    setIsMenuOpen(false);\n  }, [setIsMenuOpen]);\n\n  const contextValue = useMemo<ITableRowMenuContext>(\n    () => ({\n      hoveredRowId: hoveredRowRef?.current?.id,\n      resetHoveredRow,\n      menuButtonPosition,\n      onMouseOverRow,\n      onMouseLeaveRow,\n      onMouseOverRowMenu,\n      onMouseLeaveRowMenu,\n      setTableMenuShown,\n      setTableMenuHidden\n    }),\n    [\n      hoveredRowRef,\n      resetHoveredRow,\n      menuButtonPosition,\n      onMouseLeaveRow,\n      onMouseLeaveRowMenu,\n      onMouseOverRow,\n      onMouseOverRowMenu,\n      setTableMenuShown,\n      setTableMenuHidden\n    ]\n  );\n\n  return <TableRowMenuContext.Provider value={contextValue}>{children}</TableRowMenuContext.Provider>;\n};\n\nexport const useTableRowMenu = () => {\n  const context = useContext(TableRowMenuContext);\n  if (!context) {\n    throw new Error(\"useTableRowMenuContext must be used within a TableRowMenuProvider\");\n  }\n  return context;\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}