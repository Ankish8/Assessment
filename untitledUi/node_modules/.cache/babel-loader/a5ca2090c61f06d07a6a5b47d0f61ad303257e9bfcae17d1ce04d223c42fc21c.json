{"ast":null,"code":"import { defineProperty as e } from \"../../../../../../_virtual/_rollupPluginBabelHelpers.js\";\nimport t, { forwardRef as n, useRef as o, useEffect as s, useCallback as u } from \"react\";\nimport i from \"../../../../Text/Text.js\";\nimport { getTestId as r, ComponentDefaultTestId as l } from \"../../../../../tests/testIds.js\";\nimport a from \"classnames\";\nimport { TAB_INDEX_FOCUS_WITH_JS_ONLY as m } from \"../../MenuItemConstants.js\";\nimport d from \"../MenuItemSubMenuIcon/MenuItemSubMenuIcon.js\";\nimport c from \"../MenuItemSubMenu/MenuItemSubMenu.js\";\nimport M from \"../../hooks/useMenuItemMouseEvents.js\";\nimport I from \"../../hooks/useMenuItemKeyboardEvents.js\";\nimport p from \"../../../../../hooks/useMergeRef.js\";\nimport v from \"../../../../../hooks/useIsMouseEnter.js\";\nimport f from \"./BaseMenuItem.module.scss.js\";\nvar b = n(function (n, b) {\n  var h = n.subMenu,\n    S = n.className,\n    x = n.menuRef,\n    E = n.disabled,\n    j = void 0 !== E && E,\n    C = n.selected,\n    k = void 0 !== C && C,\n    O = n.onClick,\n    A = n.activeItemIndex,\n    B = n.setActiveItemIndex,\n    R = n.index,\n    g = n.id,\n    y = n.isParentMenuVisible,\n    w = n.resetOpenSubMenuIndex,\n    N = n.hasOpenSubMenu,\n    P = n.setSubMenuIsOpenByIndex,\n    L = n.closeMenu,\n    T = n.useDocumentEventListeners,\n    V = void 0 !== T && T,\n    _ = n.isInitialSelectedState,\n    z = n.onMouseEnter,\n    D = n.onMouseLeave,\n    F = n.shouldScrollMenu,\n    H = n[\"data-testid\"],\n    K = n.splitMenuItem,\n    U = void 0 !== K && K,\n    q = n.children,\n    G = n.submenuPosition,\n    J = void 0 === G ? \"right\" : G,\n    Q = n.autoAdjustOnSubMenuContentResize,\n    W = (void 0 === A ? -1 : A) === R,\n    X = !j && !!h && void 0 !== y && y && W && void 0 !== N && N,\n    Y = o(null),\n    Z = o(null),\n    $ = p(b, Y),\n    ee = v({\n      ref: Y\n    }),\n    te = v({\n      ref: Z\n    });\n  s(function () {\n    var e,\n      t = Y.current;\n    W && F && t && (t.scrollIntoViewIfNeeded ? t.scrollIntoViewIfNeeded({\n      behaviour: \"smooth\"\n    }) : null === (e = t.scrollIntoView) || void 0 === e || e.call(t, {\n      behavior: \"smooth\",\n      block: \"center\"\n    }));\n  }, [W, F]), s(function () {\n    var e = Y.current;\n    V || W && (null == e || e.focus());\n  }, [W, V]);\n  var ne = M({\n      ref: Y,\n      splitMenuItemIconButtonRef: Z,\n      resetOpenSubMenuIndex: w,\n      setSubMenuIsOpenByIndex: P,\n      isActive: W,\n      setActiveItemIndex: B,\n      index: R,\n      hasChildren: !!h,\n      splitMenuItem: U\n    }),\n    oe = I({\n      onClick: O,\n      disabled: j,\n      isActive: W,\n      index: R,\n      setActiveItemIndex: B,\n      hasChildren: !!h,\n      shouldShowSubMenu: X,\n      setSubMenuIsOpenByIndex: P,\n      menuRef: x,\n      isMouseEnter: ne,\n      closeMenu: L,\n      useDocumentEventListeners: V,\n      splitMenuItem: U,\n      isMouseEnterMenuItem: ee,\n      isMouseEnterIconButton: te\n    }).onClickCallback,\n    se = u(function () {\n      var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};\n      P(R, !1), e.propagate && L(e);\n    }, [P, R, L]);\n  return t.createElement(i, {\n    id: g,\n    element: \"li\",\n    type: \"text2\",\n    \"aria-haspopup\": !!h || void 0,\n    \"aria-expanded\": h ? X : void 0,\n    \"data-testid\": H || r(l.MENU_ITEM, R),\n    className: a(f.item, S, e(e(e(e(e({}, f.disabled, j), f.focused, W), f.selected, k), f.initialSelected, _), f.splitMenuItem, U)),\n    ref: $,\n    onClick: oe,\n    role: \"menuitem\",\n    \"aria-selected\": W,\n    onMouseLeave: D,\n    onMouseEnter: z,\n    tabIndex: m,\n    withoutTooltip: !0\n  }, q, !!h && t.createElement(t.Fragment, null, t.createElement(d, {\n    ref: Z,\n    isSplit: U,\n    active: X,\n    disabled: j\n  }), t.createElement(c, {\n    anchorRef: Y,\n    open: X,\n    onClose: se,\n    autoFocusOnMount: !V,\n    submenuPosition: J,\n    autoAdjustOnSubMenuContentResize: Q\n  }, h)));\n});\nexport { b as default };","map":{"version":3,"names":["b","n","h","subMenu","S","className","x","menuRef","E","disabled","j","C","selected","k","O","onClick","A","activeItemIndex","B","setActiveItemIndex","R","index","g","id","y","isParentMenuVisible","w","resetOpenSubMenuIndex","N","hasOpenSubMenu","P","setSubMenuIsOpenByIndex","L","closeMenu","T","useDocumentEventListeners","V","_","isInitialSelectedState","z","onMouseEnter","D","onMouseLeave","F","shouldScrollMenu","H","K","splitMenuItem","U","q","children","G","submenuPosition","J","Q","autoAdjustOnSubMenuContentResize","W","X","Y","o","Z","$","p","ee","v","ref","te","s","e","t","current","scrollIntoViewIfNeeded","behaviour","scrollIntoView","call","behavior","block","focus","ne","M","splitMenuItemIconButtonRef","isActive","hasChildren","oe","I","shouldShowSubMenu","isMouseEnter","isMouseEnterMenuItem","isMouseEnterIconButton","onClickCallback","se","u","arguments","length","propagate","createElement","i","element","type","r","l","MENU_ITEM","a","f","item","focused","initialSelected","role","tabIndex","m","withoutTooltip","Fragment","d","isSplit","active","c","anchorRef","open","onClose","autoFocusOnMount","default"],"sources":["/Users/ankish/Downloads/MA/MAPIT/untitledUi/node_modules/@vibe/core/src/components/Menu/MenuItem/components/BaseMenuItem/BaseMenuItem.tsx"],"sourcesContent":["import React, { forwardRef, useCallback, useEffect, useRef } from \"react\";\nimport Text from \"../../../../Text/Text\";\nimport { ComponentDefaultTestId, getTestId } from \"../../../../../tests/test-ids-utils\";\nimport cx from \"classnames\";\nimport { TAB_INDEX_FOCUS_WITH_JS_ONLY } from \"../../MenuItemConstants\";\nimport MenuItemSubMenuIcon from \"../MenuItemSubMenuIcon/MenuItemSubMenuIcon\";\nimport MenuItemSubMenu from \"../MenuItemSubMenu/MenuItemSubMenu\";\nimport { CloseMenuOption } from \"../../../Menu/MenuConstants\";\nimport useMenuItemMouseEvents from \"../../hooks/useMenuItemMouseEvents\";\nimport useMenuItemKeyboardEvents from \"../../hooks/useMenuItemKeyboardEvents\";\nimport useMergeRef from \"../../../../../hooks/useMergeRef\";\nimport useIsMouseEnter from \"../../../../../hooks/useIsMouseEnter\";\nimport styles from \"./BaseMenuItem.module.scss\";\nimport { BaseMenuItemProps } from \"./BaseMenuItem.types\";\n\nconst BaseMenuItem = forwardRef(\n  (\n    {\n      subMenu,\n      className,\n      menuRef,\n      disabled = false,\n      selected = false,\n      onClick,\n      activeItemIndex = -1,\n      setActiveItemIndex,\n      index,\n      id,\n      isParentMenuVisible = false,\n      resetOpenSubMenuIndex,\n      hasOpenSubMenu = false,\n      setSubMenuIsOpenByIndex,\n      closeMenu,\n      useDocumentEventListeners = false,\n      isInitialSelectedState,\n      onMouseEnter,\n      onMouseLeave,\n      shouldScrollMenu,\n      \"data-testid\": dataTestId,\n      splitMenuItem = false,\n      children,\n      submenuPosition = \"right\",\n      autoAdjustOnSubMenuContentResize\n    }: BaseMenuItemProps,\n    ref: React.ForwardedRef<HTMLElement>\n  ) => {\n    const isActive = activeItemIndex === index;\n    const isSubMenuOpen = isActive && hasOpenSubMenu;\n    const shouldShowSubMenu = !disabled && Boolean(subMenu) && isParentMenuVisible && isSubMenuOpen;\n\n    const anchorRef = useRef(null);\n    const splitMenuItemIconButtonRef = useRef(null);\n\n    const mergedRef = useMergeRef(ref, anchorRef);\n\n    const isMouseEnterMenuItem = useIsMouseEnter({ ref: anchorRef });\n    const isMouseEnterIconButton = useIsMouseEnter({ ref: splitMenuItemIconButtonRef });\n\n    useEffect(() => {\n      const anchorElement = anchorRef.current;\n      if (!isActive || !shouldScrollMenu || !anchorElement) {\n        return;\n      }\n      if (anchorElement.scrollIntoViewIfNeeded) {\n        anchorElement.scrollIntoViewIfNeeded({ behaviour: \"smooth\" });\n        return;\n      }\n      anchorElement.scrollIntoView?.({ behavior: \"smooth\", block: \"center\" });\n    }, [isActive, shouldScrollMenu]);\n\n    useEffect(() => {\n      const anchorElement = anchorRef.current;\n      if (useDocumentEventListeners) return;\n      if (isActive) {\n        anchorElement?.focus();\n      }\n    }, [isActive, useDocumentEventListeners]);\n\n    const isMouseEnter = useMenuItemMouseEvents({\n      ref: anchorRef,\n      splitMenuItemIconButtonRef,\n      resetOpenSubMenuIndex,\n      setSubMenuIsOpenByIndex,\n      isActive,\n      setActiveItemIndex,\n      index,\n      hasChildren: Boolean(subMenu),\n      splitMenuItem\n    });\n\n    const { onClickCallback } = useMenuItemKeyboardEvents({\n      onClick,\n      disabled,\n      isActive,\n      index,\n      setActiveItemIndex,\n      hasChildren: Boolean(subMenu),\n      shouldShowSubMenu,\n      setSubMenuIsOpenByIndex,\n      menuRef,\n      isMouseEnter,\n      closeMenu,\n      useDocumentEventListeners,\n      splitMenuItem,\n      isMouseEnterMenuItem,\n      isMouseEnterIconButton\n    });\n\n    const closeSubMenu = useCallback(\n      (option: CloseMenuOption = {}) => {\n        setSubMenuIsOpenByIndex(index, false);\n        if (option.propagate) {\n          closeMenu(option);\n        }\n      },\n      [setSubMenuIsOpenByIndex, index, closeMenu]\n    );\n\n    return (\n      <Text\n        id={id}\n        element=\"li\"\n        type=\"text2\"\n        aria-haspopup={subMenu ? true : undefined}\n        aria-expanded={subMenu ? shouldShowSubMenu : undefined}\n        data-testid={dataTestId || getTestId(ComponentDefaultTestId.MENU_ITEM, index)}\n        className={cx(styles.item, className, {\n          [styles.disabled]: disabled,\n          [styles.focused]: isActive,\n          [styles.selected]: selected,\n          [styles.initialSelected]: isInitialSelectedState,\n          [styles.splitMenuItem]: splitMenuItem\n        })}\n        ref={mergedRef}\n        onClick={onClickCallback}\n        role=\"menuitem\"\n        aria-selected={isActive}\n        onMouseLeave={onMouseLeave}\n        onMouseEnter={onMouseEnter}\n        tabIndex={TAB_INDEX_FOCUS_WITH_JS_ONLY}\n        withoutTooltip\n      >\n        {children}\n        {Boolean(subMenu) && (\n          <>\n            <MenuItemSubMenuIcon\n              ref={splitMenuItemIconButtonRef}\n              isSplit={splitMenuItem}\n              active={shouldShowSubMenu}\n              disabled={disabled}\n            />\n            <MenuItemSubMenu\n              anchorRef={anchorRef}\n              open={shouldShowSubMenu}\n              onClose={closeSubMenu}\n              autoFocusOnMount={!useDocumentEventListeners}\n              submenuPosition={submenuPosition}\n              autoAdjustOnSubMenuContentResize={autoAdjustOnSubMenuContentResize}\n            >\n              {subMenu}\n            </MenuItemSubMenu>\n          </>\n        )}\n      </Text>\n    );\n  }\n);\n\nexport default BaseMenuItem;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}