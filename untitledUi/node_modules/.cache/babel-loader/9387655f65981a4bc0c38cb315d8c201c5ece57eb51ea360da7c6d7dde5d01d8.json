{"ast":null,"code":"import { useMemo as e } from \"react\";\nimport { usePopper as o } from \"react-popper\";\nimport { Placement as t } from \"./popoverConstants.js\";\nimport r from \"./ssr/useIsomorphicLayoutEffect.js\";\nimport s from \"./useForceUpdate.js\";\nimport { createObserveContentResizeModifier as i } from \"../components/Dialog/modifiers/observeContentResizeModifier.js\";\nimport { createObserveReferenceResizeModifier as n } from \"../components/Dialog/modifiers/observeReferenceResizeModifier.js\";\nvar f = t.RIGHT_START,\n  a = [t.RIGHT_END, t.LEFT_START, t.LEFT_END];\nfunction p(t, p, m) {\n  var c = m.isOpen,\n    l = m.placement,\n    d = void 0 === l ? f : l,\n    v = m.observeContentResize,\n    u = m.observeReferenceResize,\n    b = m.offset,\n    R = m.fallbackPlacements,\n    T = void 0 === R ? a : R,\n    y = s();\n  r(function () {\n    y();\n  }, [t, p, y]);\n  var j = e(function () {\n      return {\n        placement: d,\n        modifiers: [{\n          name: \"flip\",\n          options: {\n            fallbackPlacements: T\n          }\n        }, {\n          name: \"displayNone\",\n          enabled: !0,\n          phase: \"write\",\n          fn: function (e) {\n            var o = e.state;\n            return o.styles.popper.visibility = c ? \"visible\" : \"hidden\", o;\n          }\n        }, i(v), n(u), void 0 !== b && {\n          name: \"offset\",\n          options: {\n            offset: b\n          }\n        }]\n      };\n    }, [d, v, b, c]),\n    E = o(t, p, j);\n  return {\n    styles: E.styles,\n    attributes: E.attributes\n  };\n}\nexport { p as default };","map":{"version":3,"names":["f","t","RIGHT_START","a","RIGHT_END","LEFT_START","LEFT_END","p","m","c","isOpen","l","placement","d","v","observeContentResize","u","observeReferenceResize","b","offset","R","fallbackPlacements","T","y","s","r","j","e","modifiers","name","options","enabled","phase","fn","o","state","styles","popper","visibility","i","n","E","attributes","default"],"sources":["/Users/ankish/Downloads/MA/MAPIT/untitledUi/node_modules/@vibe/core/src/hooks/usePopover.ts"],"sourcesContent":["import { useMemo } from \"react\";\nimport { usePopper } from \"react-popper\";\nimport { Placement } from \"./popoverConstants\";\nimport useIsomorphicLayoutEffect from \"./ssr/useIsomorphicLayoutEffect\";\nimport useForceUpdate from \"./useForceUpdate\";\nimport type { Options, State } from \"@popperjs/core\";\nimport { createObserveContentResizeModifier } from \"../components/Dialog/modifiers/observeContentResizeModifier\";\nimport { createObserveReferenceResizeModifier } from \"../components/Dialog/modifiers/observeReferenceResizeModifier\";\nconst { RIGHT_START, RIGHT_END, LEFT_START, LEFT_END } = Placement;\n\nconst DEFAULT_FALLBACK_PLACEMENTS = [RIGHT_END, LEFT_START, LEFT_END];\n\nexport default function usePopover(\n  referenceElement: HTMLElement,\n  popperElement: HTMLElement,\n  {\n    isOpen,\n    placement = RIGHT_START,\n    observeContentResize,\n    observeReferenceResize,\n    offset,\n    fallbackPlacements = DEFAULT_FALLBACK_PLACEMENTS\n  }: {\n    isOpen?: boolean;\n    placement?: Placement;\n    observeContentResize?: boolean;\n    observeReferenceResize?: boolean;\n    offset?: [number, number];\n    fallbackPlacements?: Placement[];\n  }\n) {\n  const forceUpdate = useForceUpdate();\n\n  // we have to use forceUpdate because\n  // usePopper need to run again after any refs changes, even after the first render.\n  useIsomorphicLayoutEffect(() => {\n    forceUpdate();\n  }, [referenceElement, popperElement, forceUpdate]);\n\n  const popperOptions: Pick<Options, \"placement\" | \"modifiers\"> = useMemo(() => {\n    return {\n      placement,\n      modifiers: [\n        {\n          name: \"flip\",\n          options: {\n            fallbackPlacements\n          }\n        },\n        {\n          name: \"displayNone\",\n          enabled: true,\n          phase: \"write\",\n          fn: ({ state }: { state: State }) => {\n            state.styles.popper.visibility = isOpen ? \"visible\" : \"hidden\";\n            return state;\n          }\n        },\n        createObserveContentResizeModifier(observeContentResize),\n        createObserveReferenceResizeModifier(observeReferenceResize),\n        offset !== undefined && {\n          name: \"offset\",\n          options: { offset }\n        }\n      ]\n    };\n  }, [placement, observeContentResize, offset, isOpen]);\n\n  const { styles, attributes } = usePopper(referenceElement, popperElement, popperOptions);\n\n  return { styles, attributes };\n}\n"],"mappings":";;;;;;;AAQA,IAAQA,CAAA,GAAiDC,CAAA,CAAjDC,WAAA;EAEFC,CAAA,GAA8B,CAFqBF,CAAA,CAApCG,SAAA,EAAoCH,CAAA,CAAzBI,UAAA,EAAyBJ,CAAA,CAAbK,QAAA;AAI9B,SAAUC,EACtBN,CAAA,EACAM,CAAA,EAA0BC,CAAA;EAezB,IAbCC,CAAA,GAAMD,CAAA,CAANE,MAAA;IAAMC,CAAA,GAAAH,CAAA,CACNI,SAAA;IAAAC,CAAA,QAAY,MAAHF,CAAA,GAAGX,CAAA,GAAWW,CAAA;IACvBG,CAAA,GAAoBN,CAAA,CAApBO,oBAAA;IACAC,CAAA,GAAsBR,CAAA,CAAtBS,sBAAA;IACAC,CAAA,GAAMV,CAAA,CAANW,MAAA;IAAMC,CAAA,GAAAZ,CAAA,CACNa,kBAAA;IAAAC,CAAA,QAAqB,MAAHF,CAAA,GAAGjB,CAAA,GAA2BiB,CAAA;IAU5CG,CAAA,GAAcC,CAAA;EAIpBC,CAAA,CAA0B;IACxBF,CAAA,EACD;EAAA,GAAE,CAACtB,CAAA,EAAkBM,CAAA,EAAegB,CAAA;EAErC,IAAMG,CAAA,GAA0DC,CAAA,CAAQ;MACtE,OAAO;QACLf,SAAA,EAAAC,CAAA;QACAe,SAAA,EAAW,CACT;UACEC,IAAA,EAAM;UACNC,OAAA,EAAS;YACPT,kBAAA,EAAAC;UAAA;QAAA,GAGJ;UACEO,IAAA,EAAM;UACNE,OAAA,GAAS;UACTC,KAAA,EAAO;UACPC,EAAA,EAAI,SAAAA,CAAAN,CAAA;YAAgC,IAA7BO,CAAA,GAAKP,CAAA,CAALQ,KAAA;YAEL,OADAD,CAAA,CAAME,MAAA,CAAOC,MAAA,CAAOC,UAAA,GAAa7B,CAAA,GAAS,YAAY,UAC/CyB,CACT;UAAA;QAAA,GAEFK,CAAA,CAAmCzB,CAAA,GACnC0B,CAAA,CAAqCxB,CAAA,QAC1B,MAAXE,CAAA,IAAwB;UACtBW,IAAA,EAAM;UACNC,OAAA,EAAS;YAAEX,MAAA,EAAAD;UAAA;QAAA;MAAA,CAIlB;IAAA,GAAE,CAACL,CAAA,EAAWC,CAAA,EAAsBI,CAAA,EAAQT,CAAA;IAE7CgC,CAAA,GAA+BP,CAAA,CAAUjC,CAAA,EAAkBM,CAAA,EAAemB,CAAA;EAE1E,OAAO;IAAEU,MAAA,EAFKK,CAAA,CAANL,MAAA;IAESM,UAAA,EAFSD,CAAA,CAAVC;EAAA,CAGlB;AAAA;AAAA,SAAAnC,CAAA,IAAAoC,OAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}