{"ast":null,"code":"import e, { useRef as n, useMemo as o } from \"react\";\nimport t from \"../../../../DialogContentContainer/DialogContentContainer.js\";\nimport i from \"../../../../../hooks/usePopover.js\";\nimport { Placement as s } from \"../../../../../hooks/popoverConstants.js\";\nimport r from \"../../../../../hooks/ssr/useIsomorphicLayoutEffect.js\";\nvar l = function (l) {\n  var u,\n    a = l.anchorRef,\n    c = l.open,\n    p = l.autoFocusOnMount,\n    m = l.onClose,\n    v = l.children,\n    f = l.submenuPosition,\n    d = l.autoAdjustOnSubMenuContentResize,\n    b = n(null),\n    h = n(null);\n  r(function () {\n    p && c && (null == b ? void 0 : b.current) && requestAnimationFrame(function () {\n      b.current.focus();\n    });\n  }, [p, c]);\n  var j = o(function () {\n      return \"left\" === f ? s.LEFT_START : void 0;\n    }, [f]),\n    C = i(null == a ? void 0 : a.current, null == h ? void 0 : h.current, {\n      isOpen: c,\n      placement: j,\n      observeContentResize: d\n    }),\n    O = C.styles,\n    g = C.attributes,\n    y = v && e.Children.only(v);\n  return (null === (u = null == y ? void 0 : y.type) || void 0 === u ? void 0 : u.isMenu) ? e.createElement(\"div\", Object.assign({\n    style: Object.assign(Object.assign({}, O.popper), {\n      visibility: c ? \"visible\" : \"hidden\"\n    })\n  }, g.popper, {\n    ref: h\n  }), y && c && e.createElement(t, null, e.cloneElement(y, Object.assign(Object.assign({}, null == y ? void 0 : y.props), {\n    isVisible: c,\n    isSubMenu: !0,\n    onClose: m,\n    ref: b,\n    useDocumentEventListeners: !p\n  })))) : (console.error(\"MenuItem can accept only Menu element as first level child, this element is not valid: \", y), null);\n};\nexport { l as default };","map":{"version":3,"names":["l","MenuItemSubMenu","u","a","anchorRef","c","open","p","autoFocusOnMount","m","onClose","v","children","f","submenuPosition","d","autoAdjustOnSubMenuContentResize","b","n","h","r","current","requestAnimationFrame","focus","j","o","s","LEFT_START","C","i","isOpen","placement","observeContentResize","O","styles","g","attributes","y","e","Children","only","type","isMenu","createElement","Object","assign","style","popper","visibility","ref","t","cloneElement","props","isVisible","isSubMenu","useDocumentEventListeners","console","error","default"],"sources":["/Users/ankish/Downloads/MA/MAPIT/untitledUi/node_modules/@vibe/core/src/components/Menu/MenuItem/components/MenuItemSubMenu/MenuItemSubMenu.tsx"],"sourcesContent":["import React, { useMemo, useRef } from \"react\";\nimport DialogContentContainer from \"../../../../DialogContentContainer/DialogContentContainer\";\nimport usePopover from \"../../../../../hooks/usePopover\";\nimport { MenuChild } from \"../../../Menu/MenuConstants\";\nimport { MenuItemSubMenuProps } from \"./MenuItemSubMenu.types\";\nimport { Placement } from \"../../../../../hooks/popoverConstants\";\nimport useIsomorphicLayoutEffect from \"../../../../../hooks/ssr/useIsomorphicLayoutEffect\";\n\nconst MenuItemSubMenu = ({\n  anchorRef,\n  open,\n  autoFocusOnMount,\n  onClose,\n  children,\n  submenuPosition,\n  autoAdjustOnSubMenuContentResize\n}: MenuItemSubMenuProps) => {\n  const childRef = useRef<HTMLDivElement>(null);\n  const popperElementRef = useRef<HTMLDivElement>(null);\n\n  useIsomorphicLayoutEffect(() => {\n    if (!autoFocusOnMount || !open || !childRef?.current) {\n      return;\n    }\n    requestAnimationFrame(() => {\n      childRef.current.focus();\n    });\n  }, [autoFocusOnMount, open]);\n\n  const submenuPlacement = useMemo(\n    () => (submenuPosition === \"left\" ? Placement.LEFT_START : undefined),\n    [submenuPosition]\n  );\n\n  const { styles: popoverStyles, attributes: popoverAttributes } = usePopover(\n    anchorRef?.current,\n    popperElementRef?.current,\n    {\n      isOpen: open,\n      placement: submenuPlacement,\n      observeContentResize: autoAdjustOnSubMenuContentResize\n    }\n  );\n\n  const subMenu: MenuChild = children && React.Children.only(children);\n  if (!subMenu?.type?.isMenu) {\n    console.error(\"MenuItem can accept only Menu element as first level child, this element is not valid: \", subMenu);\n    return null;\n  }\n\n  return (\n    <div\n      style={{ ...popoverStyles.popper, visibility: open ? \"visible\" : \"hidden\" }}\n      {...popoverAttributes.popper}\n      ref={popperElementRef}\n    >\n      {subMenu && open && (\n        <DialogContentContainer>\n          {React.cloneElement(subMenu, {\n            ...subMenu?.props,\n            isVisible: open,\n            isSubMenu: true,\n            onClose,\n            ref: childRef,\n            useDocumentEventListeners: !autoFocusOnMount\n          })}\n        </DialogContentContainer>\n      )}\n    </div>\n  );\n};\n\nexport default MenuItemSubMenu;\n"],"mappings":";;;;;AAQA,IAAMA,CAAA,GAAkB,SAAAC,CAAHD,CAAA;EAQM,IAAAE,CAAA;IAPzBC,CAAA,GAASH,CAAA,CAATI,SAAA;IACAC,CAAA,GAAIL,CAAA,CAAJM,IAAA;IACAC,CAAA,GAAgBP,CAAA,CAAhBQ,gBAAA;IACAC,CAAA,GAAOT,CAAA,CAAPU,OAAA;IACAC,CAAA,GAAQX,CAAA,CAARY,QAAA;IACAC,CAAA,GAAeb,CAAA,CAAfc,eAAA;IACAC,CAAA,GAAgCf,CAAA,CAAhCgB,gCAAA;IAEMC,CAAA,GAAWC,CAAA,CAAuB;IAClCC,CAAA,GAAmBD,CAAA,CAAuB;EAEhDE,CAAA,CAA0B;IACnBb,CAAA,IAAqBF,CAAA,KAAS,QAAAY,CAAA,YAAAA,CAAA,CAAUI,OAAA,KAG7CC,qBAAA,CAAsB;MACpBL,CAAA,CAASI,OAAA,CAAQE,KAAA,EACnB;IAAA,EACF;EAAA,GAAG,CAAChB,CAAA,EAAkBF,CAAA;EAEtB,IAAMmB,CAAA,GAAmBC,CAAA,CACvB;MAAA,OAA2B,WAApBZ,CAAA,GAA6Ba,CAAA,CAAUC,UAAA,QAAa,CAAS;IAAA,GACpE,CAACd,CAAA;IAGHe,CAAA,GAAiEC,CAAA,CAC/D,QAAA1B,CAAA,YAAAA,CAAA,CAAWkB,OAAA,EACX,QAAAF,CAAA,YAAAA,CAAA,CAAkBE,OAAA,EAClB;MACES,MAAA,EAAQzB,CAAA;MACR0B,SAAA,EAAWP,CAAA;MACXQ,oBAAA,EAAsBjB;IAAA;IANVkB,CAAA,GAAaL,CAAA,CAArBM,MAAA;IAAmCC,CAAA,GAAiBP,CAAA,CAA7BQ,UAAA;IAUzBC,CAAA,GAAqB1B,CAAA,IAAY2B,CAAA,CAAMC,QAAA,CAASC,IAAA,CAAK7B,CAAA;EAC3D,QAAoB,UAAfT,CAAA,WAAAmC,CAAA,YAAAA,CAAA,CAASI,IAAA,UAAM,MAAAvC,CAAA,YAAAA,CAAA,CAAAwC,MAAA,IAMlBJ,CAAA,CAAAK,aAAA,QAAAC,MAAA,CAAAC,MAAA;IACEC,KAAA,EAAKF,MAAA,CAAAC,MAAA,CAAAD,MAAA,CAAAC,MAAA,KAAOZ,CAAA,CAAcc,MAAA,GAAQ;MAAAC,UAAA,EAAY3C,CAAA,GAAO,YAAY;IAAA;EAAA,GAC7D8B,CAAA,CAAkBY,MAAA;IACtBE,GAAA,EAAK9B;EAAA,IAEJkB,CAAA,IAAWhC,CAAA,IACViC,CAAA,CAAAK,aAAA,CAACO,CAAA,EAAsB,MACpBZ,CAAA,CAAMa,YAAA,CAAad,CAAA,EAAOO,MAAA,CAAAC,MAAA,CAAAD,MAAA,CAAAC,MAAA,KACtB,QAAAR,CAAA,YAAAA,CAAA,CAASe,KAAA,GAAK;IACjBC,SAAA,EAAWhD,CAAA;IACXiD,SAAA,GAAW;IACX5C,OAAA,EAAAD,CAAA;IACAwC,GAAA,EAAKhC,CAAA;IACLsC,yBAAA,GAA4BhD;EAAA,SAlBpCiD,OAAA,CAAQC,KAAA,CAAM,2FAA2FpB,CAAA,GAClG,KAuBX;AAAA;AAAA,SAAArC,CAAA,IAAA0D,OAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}