{"ast":null,"code":"import { slicedToArray as e, defineProperty as t } from \"../../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { __rest as a } from \"../../../_virtual/_tslib.js\";\nimport r, { forwardRef as s, useMemo as l, useState as i, useCallback as n } from \"react\";\nimport o from \"classnames\";\nimport { getTestId as m } from \"../../tests/testIds.js\";\nimport { ComponentDefaultTestId as d, ComponentVibeId as c } from \"../../tests/constants.js\";\nimport u from \"./TextArea.module.scss.js\";\nimport x from \"../Text/Text.js\";\nimport p from \"../Flex/Flex.js\";\nimport f from \"../HiddenText/HiddenText.js\";\nvar h = {\n    small: 3,\n    large: 4\n  },\n  g = s(function (s, g) {\n    var b = s.size,\n      v = void 0 === b ? \"small\" : b,\n      T = s.rows,\n      E = s.label,\n      j = s.helpText,\n      y = s.success,\n      w = s.error,\n      A = s.className,\n      C = s[\"data-testid\"],\n      N = s.id,\n      _ = s.disabled,\n      z = s.readOnly,\n      L = s.required,\n      O = s.maxLength,\n      q = s.allowExceedingMaxLength,\n      F = s.onChange,\n      H = s.value,\n      M = s.resize,\n      P = void 0 === M || M,\n      R = s.showCharCount,\n      X = void 0 !== R && R,\n      B = a(s, [\"size\", \"rows\", \"label\", \"helpText\", \"success\", \"error\", \"className\", \"data-testid\", \"id\", \"disabled\", \"readOnly\", \"required\", \"maxLength\", \"allowExceedingMaxLength\", \"onChange\", \"value\", \"resize\", \"showCharCount\"]),\n      I = T || h[v],\n      W = j && \"\".concat(N, \"-help-text\"),\n      k = q && \"\".concat(N, \"-allow-exceeding-max-length\"),\n      D = l(function () {\n        return [W, k].filter(function (e) {\n          return !!e;\n        }).join(\" \") || void 0;\n      }, [W, k]),\n      G = i((null == H ? void 0 : H.length) || 0),\n      J = e(G, 2),\n      K = J[0],\n      Q = J[1],\n      S = w || \"number\" == typeof O && K > O,\n      U = n(function (e) {\n        Q(e.target.value.length), null == F || F(e);\n      }, [F]);\n    return r.createElement(\"div\", {\n      className: o(u.textAreaWrapper, t(t(t(t({}, u.error, S), u.success, y), u.disabled, _), u.readOnly, z), A),\n      \"data-testid\": C || m(d.TEXT_AREA, N),\n      \"data-vibe\": c.TEXT_AREA\n    }, E && r.createElement(\"label\", {\n      className: o(u.label, t({}, u.required, L)),\n      htmlFor: N\n    }, E), r.createElement(\"textarea\", Object.assign({}, B, {\n      id: N,\n      maxLength: \"number\" != typeof O || q ? void 0 : O,\n      ref: g,\n      value: H,\n      disabled: _,\n      readOnly: z,\n      required: L,\n      rows: I,\n      className: o(u.textArea, [u[v]], t({}, u.resize, P)),\n      \"aria-invalid\": S,\n      \"aria-describedby\": D,\n      onChange: U\n    })), (X || j) && r.createElement(p, {\n      gap: \"xs\",\n      justify: \"space-between\",\n      className: o(u.subTextContainer)\n    }, j && r.createElement(x, {\n      className: o(u.helpText),\n      color: \"inherit\",\n      id: W\n    }, j), X && r.createElement(r.Fragment, null, r.createElement(x, {\n      className: u.limitText\n    }, K, \"number\" == typeof O && \"/\".concat(O)), r.createElement(f, {\n      id: k,\n      text: \"Maximum of \".concat(O, \" characters\")\n    }))));\n  });\nexport { g as default };","map":{"version":3,"names":["h","small","large","g","s","b","size","v","T","rows","E","label","j","helpText","y","success","w","error","A","className","C","N","id","_","disabled","z","readOnly","L","required","O","maxLength","q","allowExceedingMaxLength","F","onChange","H","value","M","resize","P","R","showCharCount","X","B","a","I","W","concat","k","D","l","filter","e","join","G","i","length","J","K","Q","S","U","n","target","r","createElement","o","u","textAreaWrapper","t","m","d","TEXT_AREA","c","htmlFor","Object","assign","ref","textArea","p","gap","justify","subTextContainer","x","color","Fragment","limitText","f","text","default"],"sources":["/Users/ankish/Downloads/MA/MAPIT/untitledUi/node_modules/@vibe/core/src/components/TextArea/TextArea.tsx"],"sourcesContent":["import React, { forwardRef, useCallback, useMemo, useState } from \"react\";\nimport cx from \"classnames\";\nimport { getTestId } from \"../../tests/test-ids-utils\";\nimport { ComponentDefaultTestId, ComponentVibeId } from \"../../tests/constants\";\nimport styles from \"./TextArea.module.scss\";\nimport { TextAreaProps, TextAreaSize } from \"./TextArea.types\";\nimport Text from \"../Text/Text\";\nimport { Flex } from \"../Flex\";\nimport { HiddenText } from \"../HiddenText\";\n\nconst DEFAULT_ROWS: Record<TextAreaSize, number> = {\n  small: 3,\n  large: 4\n};\n\nconst TextArea = forwardRef(\n  (\n    {\n      size = \"small\",\n      rows,\n      label,\n      helpText,\n      success,\n      error,\n      className,\n      \"data-testid\": dataTestId,\n      id,\n      disabled,\n      readOnly,\n      required,\n      maxLength,\n      allowExceedingMaxLength,\n      onChange,\n      value,\n      resize = true,\n      showCharCount = false,\n      ...rest\n    }: TextAreaProps,\n    ref: React.ForwardedRef<HTMLTextAreaElement>\n  ) => {\n    const numRows = rows || DEFAULT_ROWS[size];\n    const helpTextId = helpText && `${id}-help-text`;\n    const allowExceedingMaxLengthTextId = allowExceedingMaxLength && `${id}-allow-exceeding-max-length`;\n\n    const ariaDescribedby = useMemo(\n      () => [helpTextId, allowExceedingMaxLengthTextId].filter(id => !!id).join(\" \") || undefined,\n      [helpTextId, allowExceedingMaxLengthTextId]\n    );\n\n    const [characterCount, setCharacterCount] = useState(value?.length || 0);\n    const isErrorState = error || (typeof maxLength === \"number\" && characterCount > maxLength);\n\n    const handleOnChange = useCallback(\n      (event: React.ChangeEvent<HTMLTextAreaElement>) => {\n        setCharacterCount(event.target.value.length);\n        onChange?.(event);\n      },\n      [onChange]\n    );\n\n    return (\n      <div\n        className={cx(\n          styles.textAreaWrapper,\n          {\n            [styles.error]: isErrorState,\n            [styles.success]: success,\n            [styles.disabled]: disabled,\n            [styles.readOnly]: readOnly\n          },\n          className\n        )}\n        data-testid={dataTestId || getTestId(ComponentDefaultTestId.TEXT_AREA, id)}\n        data-vibe={ComponentVibeId.TEXT_AREA}\n      >\n        {label && (\n          <label className={cx(styles.label, { [styles.required]: required })} htmlFor={id}>\n            {label}\n          </label>\n        )}\n        <textarea\n          {...rest}\n          id={id}\n          maxLength={typeof maxLength === \"number\" && !allowExceedingMaxLength ? maxLength : undefined}\n          ref={ref}\n          value={value}\n          disabled={disabled}\n          readOnly={readOnly}\n          required={required}\n          rows={numRows}\n          className={cx(styles.textArea, [styles[size]], { [styles.resize]: resize })}\n          aria-invalid={isErrorState}\n          aria-describedby={ariaDescribedby}\n          onChange={handleOnChange}\n        />\n        {(showCharCount || helpText) && (\n          <Flex gap=\"xs\" justify=\"space-between\" className={cx(styles.subTextContainer)}>\n            {helpText && (\n              <Text className={cx(styles.helpText)} color=\"inherit\" id={helpTextId}>\n                {helpText}\n              </Text>\n            )}\n            {showCharCount && (\n              <>\n                <Text className={styles.limitText}>\n                  {characterCount}\n                  {typeof maxLength === \"number\" && `/${maxLength}`}\n                </Text>\n                <HiddenText id={allowExceedingMaxLengthTextId} text={`Maximum of ${maxLength} characters`} />\n              </>\n            )}\n          </Flex>\n        )}\n      </div>\n    );\n  }\n);\n\nexport default TextArea;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}