{"ast":null,"code":"import { defineProperty as o } from \"../../../../../_virtual/_rollupPluginBabelHelpers.js\";\nimport e from \"classnames\";\nimport t, { useRef as n, useEffect as i, useCallback as r, useMemo as l } from \"react\";\nimport s from \"../../../Icon/Icon.js\";\nimport c from \"../../../Tooltip/Tooltip.js\";\nimport a from \"../../../../hooks/useIsOverflowing/useIsOverflowing.js\";\nimport { keyCodes as m } from \"../../../../constants/keyCodes.js\";\nimport \"../../../../constants/sizes.js\";\nimport { getOptionId as p } from \"../../helpers.js\";\nimport { withStaticPropsWithoutForwardRef as f } from \"../../../../types/withStaticProps.js\";\nimport \"../../../../utils/colors-vars-map.js\";\nimport { ComboboxOptionIconType as u } from \"../ComboboxConstants.js\";\nimport { getTestId as d, ComponentDefaultTestId as v } from \"../../../../tests/testIds.js\";\nimport b from \"./ComboboxOption.module.scss.js\";\nvar h = f(function (f) {\n  var u = f.index,\n    h = f.option,\n    y = f.className,\n    O = f.isActive,\n    I = f.visualFocus,\n    j = f.scrollRef,\n    g = f.scrollOffset,\n    T = void 0 === g ? 100 : g,\n    C = f.onOptionClick,\n    E = f.onOptionLeave,\n    k = f.onOptionHover,\n    N = f.optionLineHeight,\n    S = f.shouldScrollWhenActive,\n    w = void 0 === S || S,\n    x = f.optionRenderer,\n    L = void 0 === x ? null : x,\n    P = h.id,\n    H = h.leftIcon,\n    R = h.leftIconType,\n    z = h.rightIcon,\n    A = h.rightIconType,\n    B = h.label,\n    F = h.iconSize,\n    M = void 0 === F ? 18 : F,\n    _ = h.disabled,\n    W = h.selected,\n    D = h.ariaLabel,\n    K = h.belongToCategory,\n    V = void 0 !== K && K,\n    X = h.tooltipContent,\n    q = n(null),\n    G = n(),\n    J = a({\n      ref: G\n    });\n  i(function () {\n    var o,\n      e = q.current;\n    I && e && w && ((null == j ? void 0 : j.current) && e ? j.current.scrollTop = e.offsetTop - T : null === (o = null == e ? void 0 : e.scrollIntoView) || void 0 === o || o.call(e, {\n      behaviour: \"smooth\"\n    }));\n  }, [q, I, w, j, T, V]);\n  var Q = function (o, n, i) {\n      return \"renderer\" === n ? o(e(b.optionIcon, i)) : t.createElement(s, {\n        className: e(b.optionIcon, i),\n        iconType: \"font\",\n        icon: o,\n        iconSize: M,\n        ignoreFocusStyle: !0\n      });\n    },\n    U = r(function (o) {\n      _ || C(o, u, h, !0);\n    }, [u, h, C, _]),\n    Y = r(function (o) {\n      _ || E(o, u, h, !0);\n    }, [u, h, E, _]),\n    Z = r(function (o) {\n      _ || k(o, u, h, !0);\n    }, [u, h, k, _]),\n    $ = r(function (o) {\n      o.key !== m.ENTER && o.key !== m.SPACE || C(o, u, h, !1);\n    }, [C, u, h]);\n  X || (X = J ? B : null);\n  var oo = l(function () {\n      return L && L(h);\n    }, [L, h]),\n    eo = t.createElement(t.Fragment, null, H && Q(H, R, b.left), t.createElement(\"div\", {\n      ref: G,\n      className: e(b.optionLabel)\n    }, B), z && Q(z, A, \"\"));\n  return t.createElement(c, {\n    content: X,\n    hideWhenReferenceHidden: !0\n  }, t.createElement(\"div\", {\n    ref: q,\n    key: P || B,\n    \"aria-level\": V ? 2 : 1,\n    \"aria-selected\": O,\n    \"aria-label\": D || B,\n    id: p(P, u),\n    \"data-testid\": d(v.COMBOBOX_OPTION, u),\n    onMouseEnter: Z,\n    onClick: U,\n    onKeyDown: $,\n    onMouseLeave: Y,\n    className: e(b.comboboxOption, y, o(o(o(o({}, b.disabled, _), b.selected, W), b.active, O), b.activeOutline, I)),\n    style: {\n      height: N\n    }\n  }, oo || eo));\n}, {\n  iconTypes: u\n});\nexport { h as default };","map":{"version":3,"names":["h","f","u","index","option","y","className","O","isActive","I","visualFocus","j","scrollRef","g","scrollOffset","T","C","onOptionClick","E","onOptionLeave","k","onOptionHover","N","optionLineHeight","S","shouldScrollWhenActive","w","x","optionRenderer","L","P","id","H","leftIcon","R","leftIconType","z","rightIcon","A","rightIconType","B","label","F","iconSize","M","_","disabled","W","selected","D","ariaLabel","K","belongToCategory","V","X","tooltipContent","q","n","G","J","a","ref","i","o","e","current","scrollTop","offsetTop","scrollIntoView","call","behaviour","Q","renderIcon","b","optionIcon","t","createElement","s","iconType","icon","ignoreFocusStyle","U","r","Y","Z","$","key","m","ENTER","SPACE","oo","l","eo","Fragment","left","optionLabel","c","content","hideWhenReferenceHidden","p","d","v","COMBOBOX_OPTION","onMouseEnter","onClick","onKeyDown","onMouseLeave","comboboxOption","active","activeOutline","style","height","iconTypes","default"],"sources":["/Users/ankish/Downloads/MA/MAPIT/untitledUi/node_modules/@vibe/core/src/components/Combobox/components/ComboboxOption/ComboboxOption.tsx"],"sourcesContent":["import cx from \"classnames\";\nimport React, { RefObject, useCallback, useEffect, useMemo, useRef } from \"react\";\nimport Icon from \"../../../Icon/Icon\";\nimport Tooltip from \"../../../Tooltip/Tooltip\";\nimport useIsOverflowing from \"../../../../hooks/useIsOverflowing/useIsOverflowing\";\nimport { keyCodes } from \"../../../../constants\";\nimport { getOptionId } from \"../../helpers\";\nimport { SubIcon, withStaticPropsWithoutForwardRef } from \"../../../../types\";\nimport {\n  ComboboxOptionIconType as ComboboxOptionIconTypeEnum,\n  IComboboxOption,\n  IComboboxOptionEvents\n} from \"../ComboboxConstants\";\nimport { ComboboxOptionIconType } from \"../../Combobox.types\";\nimport { ComponentDefaultTestId, getTestId } from \"../../../../tests/test-ids-utils\";\nimport styles from \"./ComboboxOption.module.scss\";\n\nexport interface ComboboxOptionProps extends IComboboxOptionEvents {\n  /**\n   * The index of the option in the list.\n   */\n  index?: number;\n  /**\n   * The option data containing label, icons, and other properties.\n   */\n  option?: IComboboxOption;\n  /**\n   * Class name applied to the option element.\n   */\n  className?: string;\n  /**\n   * If true, the option is currently active.\n   */\n  isActive?: boolean;\n  /**\n   * If true, the option has visual focus.\n   */\n  visualFocus?: boolean;\n  /**\n   * A reference to the scroll container.\n   */\n  scrollRef?: RefObject<HTMLElement>;\n  /**\n   * The amount of offset when scrolling to the active item.\n   */\n  scrollOffset?: number;\n  /**\n   * The height of each option.\n   */\n  optionLineHeight?: number;\n  /**\n   * If true, scrolls to the active option when it is selected.\n   */\n  shouldScrollWhenActive?: boolean;\n  /**\n   * Custom renderer for the option content.\n   */\n  optionRenderer?: (option: IComboboxOption) => JSX.Element;\n}\n\nconst ComboboxOption = ({\n  index,\n  option,\n  className,\n  isActive,\n  visualFocus,\n  scrollRef,\n  scrollOffset = 100,\n  onOptionClick,\n  onOptionLeave,\n  onOptionHover,\n  optionLineHeight,\n  shouldScrollWhenActive = true,\n  optionRenderer = null\n}: ComboboxOptionProps) => {\n  const {\n    id,\n    leftIcon,\n    leftIconType,\n    rightIcon,\n    rightIconType,\n    label,\n    iconSize = 18,\n    disabled,\n    selected,\n    ariaLabel,\n    belongToCategory = false\n  } = option;\n  let { tooltipContent } = option;\n\n  const ref = useRef(null);\n  const labelRef = useRef();\n\n  const isOptionOverflowing = useIsOverflowing({ ref: labelRef });\n\n  useEffect(() => {\n    const element = ref.current;\n    if (visualFocus && element && shouldScrollWhenActive) {\n      if (scrollRef?.current && element) {\n        // not supported with virtualized atm, need their scrollRef (element with overflow-y auto that has the scroll)\n        scrollRef.current.scrollTop = element.offsetTop - scrollOffset;\n      } else {\n        element?.scrollIntoView?.({ behaviour: \"smooth\" });\n      }\n    }\n  }, [ref, visualFocus, shouldScrollWhenActive, scrollRef, scrollOffset, belongToCategory]);\n\n  const renderIcon = (\n    icon: SubIcon | ((className: string) => JSX.Element),\n    iconType: ComboboxOptionIconType,\n    className: string\n  ) => {\n    if (iconType === \"renderer\") {\n      return (icon as (className: string) => JSX.Element)(cx(styles.optionIcon, className));\n    }\n\n    return (\n      <Icon\n        className={cx(styles.optionIcon, className)}\n        iconType=\"font\"\n        icon={icon as SubIcon}\n        iconSize={iconSize}\n        ignoreFocusStyle\n      />\n    );\n  };\n\n  const onClick = useCallback(\n    (event: React.MouseEvent) => {\n      if (disabled) return;\n      onOptionClick(event, index, option, true);\n    },\n    [index, option, onOptionClick, disabled]\n  );\n\n  const onMouseLeave = useCallback(\n    (event: React.MouseEvent) => {\n      if (disabled) return;\n      onOptionLeave(event, index, option, true);\n    },\n    [index, option, onOptionLeave, disabled]\n  );\n\n  const onMouseEnter = useCallback(\n    (event: React.MouseEvent) => {\n      if (disabled) return;\n      onOptionHover(event, index, option, true);\n    },\n    [index, option, onOptionHover, disabled]\n  );\n\n  const onKeyDown = useCallback(\n    (event: React.KeyboardEvent) => {\n      if (event.key === keyCodes.ENTER || event.key === keyCodes.SPACE) {\n        onOptionClick(event, index, option, false);\n      }\n    },\n    [onOptionClick, index, option]\n  );\n  if (!tooltipContent) {\n    tooltipContent = isOptionOverflowing ? label : null;\n  }\n\n  const optionRendererValue = useMemo(() => optionRenderer && optionRenderer(option), [optionRenderer, option]);\n\n  const optionValue = (\n    <>\n      {leftIcon && renderIcon(leftIcon, leftIconType, styles.left)}\n      <div ref={labelRef} className={cx(styles.optionLabel)}>\n        {label}\n      </div>\n      {rightIcon && renderIcon(rightIcon, rightIconType, \"\")}\n    </>\n  );\n\n  return (\n    <Tooltip content={tooltipContent} hideWhenReferenceHidden>\n      <div\n        ref={ref}\n        key={id || label}\n        aria-level={belongToCategory ? 2 : 1}\n        aria-selected={isActive}\n        aria-label={ariaLabel || label}\n        id={getOptionId(id, index)}\n        data-testid={getTestId(ComponentDefaultTestId.COMBOBOX_OPTION, index)}\n        onMouseEnter={onMouseEnter}\n        onClick={onClick}\n        onKeyDown={onKeyDown}\n        onMouseLeave={onMouseLeave}\n        className={cx(styles.comboboxOption, className, {\n          [styles.disabled]: disabled,\n          [styles.selected]: selected,\n          [styles.active]: isActive,\n          [styles.activeOutline]: visualFocus\n        })}\n        style={{ height: optionLineHeight }}\n      >\n        {optionRendererValue || optionValue}\n      </div>\n    </Tooltip>\n  );\n};\n\ninterface ComboboxOptionStaticProps {\n  iconTypes: typeof ComboboxOptionIconTypeEnum;\n}\n\nexport default withStaticPropsWithoutForwardRef<ComboboxOptionProps, ComboboxOptionStaticProps>(ComboboxOption, {\n  iconTypes: ComboboxOptionIconTypeEnum\n});\n"],"mappings":";;;;;;;;;;;;;;AA4DA,IAmJeA,CAAA,GAAAC,CAAA,CAnJQ,UAAHA,CAAA;EAcM,IAbxBC,CAAA,GAAKD,CAAA,CAALE,KAAA;IACAH,CAAA,GAAMC,CAAA,CAANG,MAAA;IACAC,CAAA,GAASJ,CAAA,CAATK,SAAA;IACAC,CAAA,GAAQN,CAAA,CAARO,QAAA;IACAC,CAAA,GAAWR,CAAA,CAAXS,WAAA;IACAC,CAAA,GAASV,CAAA,CAATW,SAAA;IAASC,CAAA,GAAAZ,CAAA,CACTa,YAAA;IAAAC,CAAA,QAAe,MAAHF,CAAA,GAAG,MAAGA,CAAA;IAClBG,CAAA,GAAaf,CAAA,CAAbgB,aAAA;IACAC,CAAA,GAAajB,CAAA,CAAbkB,aAAA;IACAC,CAAA,GAAanB,CAAA,CAAboB,aAAA;IACAC,CAAA,GAAgBrB,CAAA,CAAhBsB,gBAAA;IAAgBC,CAAA,GAAAvB,CAAA,CAChBwB,sBAAA;IAAAC,CAAA,QAAyB,MAAHF,CAAA,IAAOA,CAAA;IAAAG,CAAA,GAAA1B,CAAA,CAC7B2B,cAAA;IAAAC,CAAA,QAAiB,MAAHF,CAAA,GAAG,OAAIA,CAAA;IAGnBG,CAAA,GAWE9B,CAAA,CAXF+B,EAAA;IACAC,CAAA,GAUEhC,CAAA,CAVFiC,QAAA;IACAC,CAAA,GASElC,CAAA,CATFmC,YAAA;IACAC,CAAA,GAQEpC,CAAA,CARFqC,SAAA;IACAC,CAAA,GAOEtC,CAAA,CAPFuC,aAAA;IACAC,CAAA,GAMExC,CAAA,CANFyC,KAAA;IAAKC,CAAA,GAMH1C,CAAA,CALF2C,QAAA;IAAAC,CAAA,QAAW,MAAHF,CAAA,GAAG,KAAEA,CAAA;IACbG,CAAA,GAIE7C,CAAA,CAJF8C,QAAA;IACAC,CAAA,GAGE/C,CAAA,CAHFgD,QAAA;IACAC,CAAA,GAEEjD,CAAA,CAFFkD,SAAA;IAASC,CAAA,GAEPnD,CAAA,CADFoD,gBAAA;IAAAC,CAAA,QAAmB,MAAHF,CAAA,IAAQA,CAAA;IAEpBG,CAAA,GAAmBtD,CAAA,CAAnBuD,cAAA;IAEAC,CAAA,GAAMC,CAAA,CAAO;IACbC,CAAA,GAAWD,CAAA;IAEXE,CAAA,GAAsBC,CAAA,CAAiB;MAAEC,GAAA,EAAKH;IAAA;EAEpDI,CAAA,CAAU;IAAA,IAAAC,CAAA;MACFC,CAAA,GAAUR,CAAA,CAAIS,OAAA;IAChBxD,CAAA,IAAeuD,CAAA,IAAWtC,CAAA,MACxB,QAAAf,CAAA,QAAS,IAATA,CAAA,CAAWsD,OAAA,KAAWD,CAAA,GAExBrD,CAAA,CAAUsD,OAAA,CAAQC,SAAA,GAAYF,CAAA,CAAQG,SAAA,GAAYpD,CAAA,GAExB,UAA1BgD,CAAA,WAAAC,CAAA,QAAO,IAAPA,CAAA,CAASI,cAAA,UAAiB,MAAAL,CAAA,IAAAA,CAAA,CAAAM,IAAA,CAAAL,CAAA;MAAEM,SAAA,EAAW;IAAA,GAG7C;EAAA,GAAG,CAACd,CAAA,EAAK/C,CAAA,EAAaiB,CAAA,EAAwBf,CAAA,EAAWI,CAAA,EAAcsC,CAAA;EAEvE,IAAMkB,CAAA,GAAa,SAAAC,CACjBT,CAAA,EACAN,CAAA,EACAK,CAAA;MAEA,OAAiB,eAAbL,CAAA,GACMM,CAAA,CAA4CC,CAAA,CAAGS,CAAA,CAAOC,UAAA,EAAYZ,CAAA,KAI1Ea,CAAA,CAAAC,aAAA,CAACC,CAAA,EAAI;QACHvE,SAAA,EAAW0D,CAAA,CAAGS,CAAA,CAAOC,UAAA,EAAYZ,CAAA;QACjCgB,QAAA,EAAS;QACTC,IAAA,EAAMhB,CAAA;QACNpB,QAAA,EAAUC,CAAA;QACVoC,gBAAA,GAAgB;MAAA;IAAA;IAKhBC,CAAA,GAAUC,CAAA,CACd,UAACnB,CAAA;MACKlB,CAAA,IACJ7B,CAAA,CAAc+C,CAAA,EAAO7D,CAAA,EAAOF,CAAA,GAAQ,EACrC;IAAA,GACD,CAACE,CAAA,EAAOF,CAAA,EAAQgB,CAAA,EAAe6B,CAAA;IAG3BsC,CAAA,GAAeD,CAAA,CACnB,UAACnB,CAAA;MACKlB,CAAA,IACJ3B,CAAA,CAAc6C,CAAA,EAAO7D,CAAA,EAAOF,CAAA,GAAQ,EACrC;IAAA,GACD,CAACE,CAAA,EAAOF,CAAA,EAAQkB,CAAA,EAAe2B,CAAA;IAG3BuC,CAAA,GAAeF,CAAA,CACnB,UAACnB,CAAA;MACKlB,CAAA,IACJzB,CAAA,CAAc2C,CAAA,EAAO7D,CAAA,EAAOF,CAAA,GAAQ,EACrC;IAAA,GACD,CAACE,CAAA,EAAOF,CAAA,EAAQoB,CAAA,EAAeyB,CAAA;IAG3BwC,CAAA,GAAYH,CAAA,CAChB,UAACnB,CAAA;MACKA,CAAA,CAAMuB,GAAA,KAAQC,CAAA,CAASC,KAAA,IAASzB,CAAA,CAAMuB,GAAA,KAAQC,CAAA,CAASE,KAAA,IACzDzE,CAAA,CAAc+C,CAAA,EAAO7D,CAAA,EAAOF,CAAA,GAAQ,EAEvC;IAAA,GACD,CAACgB,CAAA,EAAed,CAAA,EAAOF,CAAA;EAEpBsD,CAAA,KACHA,CAAA,GAAiBK,CAAA,GAAsBnB,CAAA,GAAQ;EAGjD,IAAMkD,EAAA,GAAsBC,CAAA,CAAQ;MAAA,OAAM9D,CAAA,IAAkBA,CAAA,CAAe7B,CAAA,CAAO;IAAA,GAAE,CAAC6B,CAAA,EAAgB7B,CAAA;IAE/F4F,EAAA,GACJjB,CAAA,CAAAC,aAAA,CAAAD,CAAA,CAAAkB,QAAA,QACG7D,CAAA,IAAYuC,CAAA,CAAWvC,CAAA,EAAUE,CAAA,EAAcuC,CAAA,CAAOqB,IAAA,GACvDnB,CAAA,CAAAC,aAAA;MAAKf,GAAA,EAAKH,CAAA;MAAUpD,SAAA,EAAW0D,CAAA,CAAGS,CAAA,CAAOsB,WAAA;IAAA,GACtCvD,CAAA,GAEFJ,CAAA,IAAamC,CAAA,CAAWnC,CAAA,EAAWE,CAAA,EAAe;EAIvD,OACEqC,CAAA,CAAAC,aAAA,CAACoB,CAAA,EAAO;IAACC,OAAA,EAAS3C,CAAA;IAAgB4C,uBAAA,GAAuB;EAAA,GACvDvB,CAAA,CAAAC,aAAA;IACEf,GAAA,EAAKL,CAAA;IACL8B,GAAA,EAAKxD,CAAA,IAAMU,CAAA;IACC,cAAAa,CAAA,GAAmB,IAAI;IAAC,iBACrB9C,CAAA;IAAQ,cACX0C,CAAA,IAAaT,CAAA;IACzBT,EAAA,EAAIoE,CAAA,CAAYrE,CAAA,EAAI5B,CAAA;IACP,eAAAkG,CAAA,CAAUC,CAAA,CAAuBC,eAAA,EAAiBpG,CAAA;IAC/DqG,YAAA,EAAcnB,CAAA;IACdoB,OAAA,EAASvB,CAAA;IACTwB,SAAA,EAAWpB,CAAA;IACXqB,YAAA,EAAcvB,CAAA;IACd7E,SAAA,EAAW0D,CAAA,CAAGS,CAAA,CAAOkC,cAAA,EAAgBtG,CAAA,EAAS0D,CAAA,CAAAA,CAAA,CAAAA,CAAA,CAAAA,CAAA,KAC3CU,CAAA,CAAO3B,QAAA,EAAWD,CAAA,GAClB4B,CAAA,CAAOzB,QAAA,EAAWD,CAAA,GAClB0B,CAAA,CAAOmC,MAAA,EAASrG,CAAA,GAChBkE,CAAA,CAAOoC,aAAA,EAAgBpG,CAAA;IAE1BqG,KAAA,EAAO;MAAEC,MAAA,EAAQzF;IAAA;EAAA,GAEhBoE,EAAA,IAAuBE,EAAA,EAIhC;AAAA,GAMgH;EAC9GoB,SAAA,EAAW9G;AAAA;AAAA,SAAAF,CAAA,IAAAiH,OAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}