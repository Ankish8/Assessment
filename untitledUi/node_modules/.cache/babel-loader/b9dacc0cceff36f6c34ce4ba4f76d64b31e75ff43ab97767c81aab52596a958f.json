{"ast":null,"code":"import { slicedToArray as e, defineProperty as t } from \"../../../../_virtual/_rollupPluginBabelHelpers.js\";\nimport r from \"classnames\";\nimport { camelCase as s } from \"lodash-es\";\nimport i, { forwardRef as n, useRef as o, useState as a, useEffect as l, useMemo as d, useCallback as c } from \"react\";\nimport m from \"../../../hooks/useGridKeyboardNavigation/useGridKeyboardNavigation.js\";\nimport u from \"../../../hooks/useMergeRef.js\";\nimport p from \"../../../hooks/usePrevious/index.js\";\nimport { NOOP as f } from \"../../../utils/function-utils.js\";\nimport { getTestId as v, ComponentDefaultTestId as b } from \"../../../tests/testIds.js\";\nimport { getStyle as h } from \"../../../helpers/typesciptCssModulesHelper.js\";\nimport I from \"./TabList.module.scss.js\";\nvar C = n(function (n, C) {\n  var g = n.className,\n    N = n.id,\n    T = n.onTabChange,\n    j = void 0 === T ? f : T,\n    y = n.activeTabId,\n    L = void 0 === y ? 0 : y,\n    k = n.tabType,\n    x = void 0 === k ? \"Compact\" : k,\n    A = n.size,\n    E = n.stretchedUnderline,\n    B = void 0 !== E && E,\n    P = n.children,\n    S = n[\"data-testid\"],\n    U = o(null),\n    _ = u(C, U),\n    G = a(L),\n    H = e(G, 2),\n    K = H[0],\n    M = H[1],\n    O = p(L);\n  l(function () {\n    L !== O && L !== K && M(L);\n  }, [L, O, K, M]);\n  var W = d(function () {\n      var e = new Set();\n      return i.Children.forEach(P, function (t, r) {\n        t.props.disabled && e.add(r);\n      }), e;\n    }, [P]),\n    w = c(function (e) {\n      W.has(e) || (M(e), j && j(e));\n    }, [j, W]),\n    z = c(function (e, t) {\n      var r,\n        s = null === (r = P[t].props) || void 0 === r ? void 0 : r.onClick;\n      W.has(t) || (s && s(t), w(t));\n    }, [P, W, w]),\n    R = c(function (e) {\n      return P[e];\n    }, [P]),\n    q = d(function () {\n      return Array.from(W);\n    }, [W]),\n    D = o(),\n    F = m({\n      ref: D,\n      numberOfItemsInLine: null == P ? void 0 : P.length,\n      itemsCount: null == P ? void 0 : P.length,\n      getItemByIndex: R,\n      onItemClicked: z,\n      disabledIndexes: q,\n      circularNavigation: !0\n    }),\n    J = F.activeIndex,\n    Q = F.onSelectionAction,\n    V = d(function () {\n      return i.Children.map(P, function (e, t) {\n        return i.cloneElement(e, {\n          value: t,\n          active: K === t,\n          focus: J === t,\n          onClick: Q,\n          stretchedUnderline: B,\n          className: r(I.tabListTabWrapper, e.props.className),\n          tabInnerClassName: r(I.tabListTabInner, e.props.tabInnerClassName)\n        });\n      });\n    }, [P, K, J, Q, B]);\n  return i.createElement(\"div\", {\n    ref: _,\n    className: r(I.tabsWrapper, g, [h(I, s(x))], t({}, I.stretchedUnderline, B)),\n    id: N,\n    \"data-testid\": S || v(b.TAB_LIST, N)\n  }, i.createElement(\"ul\", {\n    ref: D,\n    tabIndex: 0,\n    className: r(I.tabsList, [h(I, A)]),\n    role: \"tablist\"\n  }, V));\n});\nObject.assign(C, {\n  isTabList: !0\n});\nexport { C as default };","map":{"version":3,"names":["C","n","g","className","N","id","T","onTabChange","j","f","y","activeTabId","L","k","tabType","x","A","size","E","stretchedUnderline","B","P","children","S","U","o","_","u","G","a","H","e","K","M","O","p","l","W","d","Set","i","Children","forEach","t","r","props","disabled","add","w","c","has","z","s","onClick","R","q","Array","from","D","F","m","ref","numberOfItemsInLine","length","itemsCount","getItemByIndex","onItemClicked","disabledIndexes","circularNavigation","J","activeIndex","Q","onSelectionAction","V","map","cloneElement","value","active","focus","I","tabListTabWrapper","tabInnerClassName","tabListTabInner","createElement","tabsWrapper","h","v","b","TAB_LIST","tabIndex","tabsList","role","Object","assign","isTabList","default"],"sources":["/Users/ankish/Downloads/MA/MAPIT/untitledUi/node_modules/@vibe/core/src/components/Tabs/TabList/TabList.tsx"],"sourcesContent":["import cx from \"classnames\";\nimport { camelCase } from \"lodash-es\";\nimport React, { FC, forwardRef, ReactElement, useCallback, useEffect, useMemo, useRef, useState } from \"react\";\nimport useGridKeyboardNavigation from \"../../../hooks/useGridKeyboardNavigation/useGridKeyboardNavigation\";\nimport useMergeRef from \"../../../hooks/useMergeRef\";\nimport usePrevious from \"../../../hooks/usePrevious\";\nimport VibeComponentProps from \"../../../types/VibeComponentProps\";\nimport { NOOP } from \"../../../utils/function-utils\";\nimport { TabProps } from \"../Tab/Tab\";\nimport { ComponentDefaultTestId, getTestId } from \"../../../tests/test-ids-utils\";\nimport { getStyle } from \"../../../helpers/typesciptCssModulesHelper\";\nimport styles from \"./TabList.module.scss\";\n\nexport interface TabListProps extends VibeComponentProps {\n  /**\n   * Callback fired when the active tab changes.\n   */\n  onTabChange?: (tabId: number) => void;\n  /**\n   * The index of the currently active tab.\n   */\n  activeTabId?: number;\n  /**\n   * The type of tab style.\n   */\n  tabType?: string;\n  /**\n   * The size of the tab list.\n   */\n  size?: string;\n  /**\n   * If true, Sets an E2E underline under the whole tabs component.\n   */\n  stretchedUnderline?: boolean;\n  /**\n   * The child elements representing tabs.\n   */\n  children?: ReactElement<TabProps>[];\n}\n\nconst TabList: FC<TabListProps> = forwardRef(\n  (\n    {\n      className,\n      id,\n      onTabChange = NOOP,\n      activeTabId = 0,\n      tabType = \"Compact\",\n      size,\n      stretchedUnderline = false,\n      children,\n      \"data-testid\": dataTestId\n    },\n    ref\n  ) => {\n    const componentRef = useRef(null);\n    const mergedRef = useMergeRef(ref, componentRef);\n\n    const [activeTabState, setActiveTabState] = useState<number>(activeTabId);\n\n    const prevActiveTabIdProp = usePrevious(activeTabId);\n\n    useEffect(() => {\n      // Update active tab if changed from props\n      if (activeTabId !== prevActiveTabIdProp && activeTabId !== activeTabState) {\n        setActiveTabState(activeTabId);\n      }\n    }, [activeTabId, prevActiveTabIdProp, activeTabState, setActiveTabState]);\n\n    const disabledTabIds = useMemo(() => {\n      const disabledIds = new Set<number>();\n      React.Children.forEach(children, (child, index) => {\n        if (child.props.disabled) {\n          disabledIds.add(index);\n        }\n      });\n      return disabledIds;\n    }, [children]);\n\n    const onTabSelect = useCallback(\n      (tabId: number) => {\n        if (disabledTabIds.has(tabId)) return;\n        setActiveTabState(tabId);\n        onTabChange && onTabChange(tabId);\n      },\n      [onTabChange, disabledTabIds]\n    );\n\n    const onTabClick = useCallback(\n      (value: HTMLElement | void, tabId: number) => {\n        const tabCallbackFunc = children[tabId].props?.onClick;\n        if (disabledTabIds.has(tabId)) return;\n        if (tabCallbackFunc) tabCallbackFunc(tabId);\n        onTabSelect(tabId);\n      },\n      [children, disabledTabIds, onTabSelect]\n    );\n\n    const getItemByIndex = useCallback((index: number): ReactElement<TabProps> => children[index], [children]);\n    const disabledIndexes = useMemo(() => Array.from(disabledTabIds), [disabledTabIds]);\n    const ulRef = useRef();\n    const { activeIndex: focusIndex, onSelectionAction } = useGridKeyboardNavigation({\n      ref: ulRef,\n      numberOfItemsInLine: children?.length,\n      itemsCount: children?.length,\n      getItemByIndex,\n      onItemClicked: onTabClick,\n      disabledIndexes,\n      circularNavigation: true\n    });\n\n    const tabsToRender = useMemo(() => {\n      const childrenToRender = React.Children.map(children, (child, index) => {\n        return React.cloneElement(child, {\n          value: index,\n          active: activeTabState === index,\n          focus: focusIndex === index,\n          onClick: onSelectionAction,\n          stretchedUnderline,\n          className: cx(styles.tabListTabWrapper, child.props.className),\n          tabInnerClassName: cx(styles.tabListTabInner, child.props.tabInnerClassName)\n        });\n      });\n      return childrenToRender;\n    }, [children, activeTabState, focusIndex, onSelectionAction, stretchedUnderline]);\n\n    return (\n      <div\n        ref={mergedRef}\n        className={cx(styles.tabsWrapper, className, [getStyle(styles, camelCase(tabType))], {\n          [styles.stretchedUnderline]: stretchedUnderline\n        })}\n        id={id}\n        data-testid={dataTestId || getTestId(ComponentDefaultTestId.TAB_LIST, id)}\n      >\n        <ul ref={ulRef} tabIndex={0} className={cx(styles.tabsList, [getStyle(styles, size)])} role=\"tablist\">\n          {tabsToRender}\n        </ul>\n      </div>\n    );\n  }\n);\n\nObject.assign(TabList, {\n  isTabList: true\n});\n\nexport default TabList;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}