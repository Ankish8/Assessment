{"ast":null,"code":"import e, { forwardRef as t, useCallback as n } from \"react\";\nimport o from \"classnames\";\nimport { getTestId as r } from \"../../../tests/testIds.js\";\nimport { ComponentDefaultTestId as u } from \"../../../tests/constants.js\";\nimport s from \"./TableRowMenu.module.scss.js\";\nimport m from \"../../MenuButton/MenuButton.js\";\nimport i from \"../../Menu/Menu/Menu.js\";\nimport \"../../Menu/MenuItem/MenuItem.js\";\nimport \"../../Menu/MenuItemButton/MenuItemButton.js\";\nimport \"../../Menu/MenuDivider/MenuDivider.js\";\nimport \"../../Menu/MenuTitle/MenuTitle.js\";\nimport \"../../Menu/MenuGridItem/MenuGridItem.js\";\nimport { createPortal as a } from \"react-dom\";\nimport { useTable as M } from \"../context/TableContext/TableContext.js\";\nimport { getStyle as l } from \"../../../helpers/typesciptCssModulesHelper.js\";\nimport { useTableRowMenu as d } from \"../context/TableRowMenuContext/TableRowMenuContext.js\";\nimport { useTableContainer as p } from \"../context/TableContainerContext/TableContainerContext.js\";\nvar c = t(function (t, c) {\n  var f = t.rowId,\n    j = t.className,\n    T = t.id,\n    x = t[\"data-testid\"],\n    C = t.children,\n    b = p().menuContainerRef,\n    w = M().size,\n    v = d(),\n    I = v.hoveredRowId,\n    R = v.setTableMenuHidden,\n    E = v.setTableMenuShown,\n    B = v.menuButtonPosition,\n    h = v.onMouseOverRowMenu,\n    N = v.onMouseLeaveRowMenu,\n    H = n(function () {\n      R();\n    }, [R]),\n    L = n(function () {\n      E();\n    }, [E]);\n  return b.current && I && I === f ? e.createElement(e.Fragment, null, a(e.createElement(\"div\", {\n    className: o(s.rowMenuContainer, l(s, w)),\n    style: {\n      top: B\n    },\n    onMouseEnter: h,\n    onMouseLeave: N\n  }, e.createElement(m, {\n    id: T,\n    ref: c,\n    className: o(s.tableMenu, j),\n    size: \"xs\",\n    onMenuHide: H,\n    onMenuShow: L,\n    \"data-testid\": x || r(u.TABLE_ROW_MENU, T)\n  }, e.createElement(i, null, C))), b.current)) : null;\n});\nexport { c as default };","map":{"version":3,"names":["c","t","f","rowId","j","className","T","id","x","C","children","b","p","menuContainerRef","w","M","size","v","d","I","hoveredRowId","R","setTableMenuHidden","E","setTableMenuShown","B","menuButtonPosition","h","onMouseOverRowMenu","N","onMouseLeaveRowMenu","H","n","L","current","e","createElement","Fragment","a","o","s","rowMenuContainer","l","style","top","onMouseEnter","onMouseLeave","m","ref","tableMenu","onMenuHide","onMenuShow","r","u","TABLE_ROW_MENU","i","default"],"sources":["/Users/ankish/Downloads/MA/MAPIT/untitledUi/node_modules/@vibe/core/src/components/Table/TableRowMenu/TableRowMenu.tsx"],"sourcesContent":["import React, { forwardRef, useCallback } from \"react\";\nimport cx from \"classnames\";\nimport { getTestId } from \"../../../tests/test-ids-utils\";\nimport { ComponentDefaultTestId } from \"../../../tests/constants\";\nimport styles from \"./TableRowMenu.module.scss\";\nimport MenuButton from \"../../MenuButton/MenuButton\";\nimport { Menu } from \"../../Menu\";\nimport { createPortal } from \"react-dom\";\nimport { useTable } from \"../context/TableContext/TableContext\";\nimport { getStyle } from \"../../../helpers/typesciptCssModulesHelper\";\nimport { useTableRowMenu } from \"../context/TableRowMenuContext/TableRowMenuContext\";\nimport { useTableContainer } from \"../context/TableContainerContext/TableContainerContext\";\nimport { TableMenuProps } from \"./TableRowMenu.types\";\n\nconst TableRowMenu = forwardRef(\n  (\n    { rowId, className, id, \"data-testid\": dataTestId, children }: TableMenuProps,\n    ref: React.ForwardedRef<HTMLDivElement>\n  ) => {\n    const { menuContainerRef } = useTableContainer();\n    const { size } = useTable();\n    const {\n      hoveredRowId,\n      setTableMenuHidden,\n      setTableMenuShown,\n      menuButtonPosition,\n      onMouseOverRowMenu,\n      onMouseLeaveRowMenu\n    } = useTableRowMenu();\n\n    const onMenuHide = useCallback(() => {\n      setTableMenuHidden();\n    }, [setTableMenuHidden]);\n\n    const onMenuShow = useCallback(() => {\n      setTableMenuShown();\n    }, [setTableMenuShown]);\n\n    const shouldShowMenu = menuContainerRef.current && hoveredRowId && hoveredRowId === rowId;\n    if (!shouldShowMenu) return null;\n\n    return (\n      <>\n        {createPortal(\n          <div\n            className={cx(styles.rowMenuContainer, getStyle(styles, size))}\n            style={{ top: menuButtonPosition }}\n            onMouseEnter={onMouseOverRowMenu}\n            onMouseLeave={onMouseLeaveRowMenu}\n          >\n            <MenuButton\n              id={id}\n              ref={ref}\n              className={cx(styles.tableMenu, className)}\n              size=\"xs\"\n              onMenuHide={onMenuHide}\n              onMenuShow={onMenuShow}\n              data-testid={dataTestId || getTestId(ComponentDefaultTestId.TABLE_ROW_MENU, id)}\n            >\n              <Menu>{children}</Menu>\n            </MenuButton>\n          </div>,\n          menuContainerRef.current\n        )}\n      </>\n    );\n  }\n);\n\nexport default TableRowMenu;\n"],"mappings":";;;;;;;;;;;;;;;;;AAcM,IAAAA,CAAA,GAAeC,CAAA,CACnB,UAAAA,CAAA,EAEED,CAAA;EACE,IAFAE,CAAA,GAAKD,CAAA,CAALE,KAAA;IAAOC,CAAA,GAASH,CAAA,CAATI,SAAA;IAAWC,CAAA,GAAEL,CAAA,CAAFM,EAAA;IAAmBC,CAAA,GAAUP,CAAA,CAAzB;IAA2BQ,CAAA,GAAQR,CAAA,CAARS,QAAA;IAG3CC,CAAA,GAAqBC,CAAA,GAArBC,gBAAA;IACAC,CAAA,GAASC,CAAA,GAATC,IAAA;IACRC,CAAA,GAOIC,CAAA;IANFC,CAAA,GAAYF,CAAA,CAAZG,YAAA;IACAC,CAAA,GAAkBJ,CAAA,CAAlBK,kBAAA;IACAC,CAAA,GAAiBN,CAAA,CAAjBO,iBAAA;IACAC,CAAA,GAAkBR,CAAA,CAAlBS,kBAAA;IACAC,CAAA,GAAkBV,CAAA,CAAlBW,kBAAA;IACAC,CAAA,GAAmBZ,CAAA,CAAnBa,mBAAA;IAGIC,CAAA,GAAaC,CAAA,CAAY;MAC7BX,CAAA,EACF;IAAA,GAAG,CAACA,CAAA;IAEEY,CAAA,GAAaD,CAAA,CAAY;MAC7BT,CAAA,EACF;IAAA,GAAG,CAACA,CAAA;EAGJ,OADuBZ,CAAA,CAAiBuB,OAAA,IAAWf,CAAA,IAAgBA,CAAA,KAAiBjB,CAAA,GAIlFiC,CAAA,CAAAC,aAAA,CAAAD,CAAA,CAAAE,QAAA,QACGC,CAAA,CACCH,CAAA,CAAAC,aAAA;IACE/B,SAAA,EAAWkC,CAAA,CAAGC,CAAA,CAAOC,gBAAA,EAAkBC,CAAA,CAASF,CAAA,EAAQ1B,CAAA;IACxD6B,KAAA,EAAO;MAAEC,GAAA,EAAKnB;IAAA;IACdoB,YAAA,EAAclB,CAAA;IACdmB,YAAA,EAAcjB;EAAA,GAEdM,CAAA,CAAAC,aAAA,CAACW,CAAA,EACC;IAAAxC,EAAA,EAAID,CAAA;IACJ0C,GAAA,EAAKhD,CAAA;IACLK,SAAA,EAAWkC,CAAA,CAAGC,CAAA,CAAOS,SAAA,EAAW7C,CAAA;IAChCY,IAAA,EAAK;IACLkC,UAAA,EAAYnB,CAAA;IACZoB,UAAA,EAAYlB,CAAA;IAAA,eACCzB,CAAA,IAAc4C,CAAA,CAAUC,CAAA,CAAuBC,cAAA,EAAgBhD,CAAA;EAAA,GAE5E6B,CAAA,CAAAC,aAAA,CAACmB,CAAA,EAAI,MAAE9C,CAAA,KAGXE,CAAA,CAAiBuB,OAAA,KAvBK,IA2B9B;AAAA;AAAA,SAAAlC,CAAA,IAAAwD,OAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}