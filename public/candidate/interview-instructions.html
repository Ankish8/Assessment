<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Interview - Instructions</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="colors.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
            font-feature-settings: 'cv02', 'cv03', 'cv04', 'cv11';
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .animate-spin {
            animation: spin 1s linear infinite;
        }
        
        /* Custom button styles using design tokens */
        .btn-primary {
            background-color: var(--button-primary-bg);
            color: var(--text-inverse);
            border: none;
            transition: all 0.2s ease;
        }
        
        .btn-primary:hover:not(:disabled) {
            background-color: var(--button-primary-hover);
            transform: translateY(-1px);
        }
        
        .btn-primary:active:not(:disabled) {
            background-color: var(--button-primary-active);
            transform: translateY(0);
        }
        
        .btn-primary:disabled {
            background-color: var(--button-primary-disabled);
            color: var(--text-quaternary);
            cursor: not-allowed;
            transform: none;
        }
        
        .btn-secondary {
            background-color: var(--button-secondary-bg);
            color: var(--button-secondary-text);
            border: 1px solid var(--border-primary);
            transition: all 0.2s ease;
        }
        
        .btn-secondary:hover:not(:disabled) {
            background-color: var(--button-secondary-hover);
            border-color: var(--border-secondary);
            transform: translateY(-1px);
        }
        
        .modal-backdrop {
            background-color: var(--modal-backdrop);
            backdrop-filter: blur(4px);
        }
        
        .progress-dot-active {
            background-color: var(--primary-900);
        }
        
        .progress-dot-inactive {
            background-color: var(--neutral-400);
        }
        
        .brand-accent {
            background-color: var(--primary-900);
        }
        
        .status-success {
            color: var(--success-600);
        }
        
        .status-checking {
            color: var(--neutral-500);
        }
        
        .checkbox-focus:focus {
            box-shadow: 0 0 0 2px var(--primary-500);
        }
    </style>
</head>
<body class="bg-gray-50">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        function InternetSpeedCheckModal({ isOpen, onClose, onProceed }) {
            const [internetStatus, setInternetStatus] = useState('checking');
            const [internetSpeed, setInternetSpeed] = useState('checking');
            const [speedValue, setSpeedValue] = useState('');
            const [isAgreed, setIsAgreed] = useState(false);

            useEffect(() => {
                if (!isOpen) return;

                // Simulate internet speed check
                const timer = setTimeout(() => {
                    setInternetStatus('connected');
                    setInternetSpeed('good');
                    setSpeedValue('5.04 Mbps');
                }, 2000);

                return () => clearTimeout(timer);
            }, [isOpen]);

            const handleOverlayClick = (event) => {
                if (event.target === event.currentTarget) {
                    onClose();
                }
            };

            const handleProceed = () => {
                if (isAgreed) {
                    onProceed();
                }
            };

            if (!isOpen) return null;

            return (
                <div 
                    className="fixed inset-0 z-50 flex items-center justify-center modal-backdrop"
                    onClick={handleOverlayClick}
                >
                    <div 
                        className="relative w-full max-w-lg mx-4 bg-white rounded-2xl shadow-2xl overflow-hidden"
                        onClick={(e) => e.stopPropagation()}
                    >
                        {/* Header */}
                        <div className="flex items-center justify-between p-6 border-b border-gray-100">
                            <div className="flex items-center gap-3">
                                <div className="w-8 h-8 bg-purple-50 rounded-lg flex items-center justify-center">
                                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" style={{color: 'var(--primary-900)'}}>
                                        <path d="M8.111 16.404a5.5 5.5 0 017.778 0M12 20h.01m-7.08-7.071c3.904-3.905 10.236-3.905 14.141 0M1.394 9.393c5.857-5.857 15.355-5.857 21.213 0"/>
                                    </svg>
                                </div>
                                <h2 className="text-xl font-semibold text-gray-900">Internet Speed Check</h2>
                            </div>
                            <button
                                onClick={onClose}
                                className="w-8 h-8 rounded-lg hover:bg-gray-100 flex items-center justify-center transition-colors"
                            >
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                                    <path d="M18 6L6 18M6 6l12 12"/>
                                </svg>
                            </button>
                        </div>

                        {/* Content */}
                        <div className="p-6">
                            <div className="space-y-6">
                                
                                {/* Internet Status */}
                                <div className="flex items-center gap-3">
                                    <span className="text-sm font-medium text-gray-900 min-w-[100px]">Internet Status:</span>
                                    <div className="flex items-center gap-2">
                                        {internetStatus === 'checking' && (
                                            <div className="w-4 h-4 border-2 border-t-transparent rounded-full animate-spin" style={{borderColor: 'var(--primary-900)', borderTopColor: 'transparent'}}/>
                                        )}
                                        {internetStatus === 'connected' && (
                                            <div className="w-4 h-4 bg-green-100 rounded-full flex items-center justify-center">
                                                <svg width="10" height="10" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="3" className="text-green-600">
                                                    <path d="M20 6L9 17l-5-5"/>
                                                </svg>
                                            </div>
                                        )}
                                        <span className={`text-sm font-medium ${internetStatus === 'connected' ? 'status-success' : 'status-checking'}`}>
                                            {internetStatus === 'checking' ? 'Checking...' : 'Connected'}
                                        </span>
                                    </div>
                                </div>

                                {/* Internet Speed */}
                                <div className="flex items-center gap-3">
                                    <span className="text-sm font-medium text-gray-900 min-w-[100px]">Internet Speed:</span>
                                    <div className="flex items-center gap-2">
                                        {internetSpeed === 'checking' && (
                                            <>
                                                <div className="flex gap-1">
                                                    <div className="w-2 h-2 bg-gray-300 rounded-full"></div>
                                                    <div className="w-2 h-2 bg-gray-300 rounded-full"></div>
                                                    <div className="w-2 h-2 bg-gray-300 rounded-full"></div>
                                                </div>
                                                <span className="text-sm text-gray-500">Testing...</span>
                                            </>
                                        )}
                                        {internetSpeed === 'good' && (
                                            <>
                                                <div className="flex gap-1">
                                                    <div className="w-2 h-2 bg-green-500 rounded-full"></div>
                                                    <div className="w-2 h-2 bg-green-500 rounded-full"></div>
                                                    <div className="w-2 h-2 bg-green-500 rounded-full"></div>
                                                </div>
                                                <span className="text-sm font-medium text-green-600">Good ({speedValue})</span>
                                            </>
                                        )}
                                    </div>
                                </div>

                                {/* Instructions */}
                                <div className="bg-purple-50 rounded-lg p-4 border border-purple-100">
                                    <ul className="space-y-2 text-sm text-gray-700">
                                        <li className="flex items-start gap-2">
                                            <div className="w-1.5 h-1.5 rounded-full mt-2 flex-shrink-0" style={{backgroundColor: 'var(--primary-500)'}}></div>
                                            <span>Ensure you have a stable internet connection before starting.</span>
                                        </li>
                                        <li className="flex items-start gap-2">
                                            <div className="w-1.5 h-1.5 rounded-full mt-2 flex-shrink-0" style={{backgroundColor: 'var(--primary-500)'}}></div>
                                            <span>If proceed with low internet, you may get issues with the interview.</span>
                                        </li>
                                        <li className="flex items-start gap-2">
                                            <div className="w-1.5 h-1.5 rounded-full mt-2 flex-shrink-0" style={{backgroundColor: 'var(--primary-500)'}}></div>
                                            <span>This will take maximum 1 minute or based on your internet speed.</span>
                                        </li>
                                    </ul>
                                </div>

                                {/* Checkbox */}
                                <div className="flex items-center gap-3">
                                    <input
                                        type="checkbox"
                                        id="ready-checkbox"
                                        checked={isAgreed}
                                        onChange={(e) => setIsAgreed(e.target.checked)}
                                        className="w-4 h-4 border-gray-300 rounded checkbox-focus"
                                        style={{accentColor: 'var(--primary-900)'}}
                                    />
                                    <label htmlFor="ready-checkbox" className="text-sm font-medium text-gray-900">
                                        I have read the instructions and I am ready to start the interview
                                    </label>
                                </div>

                            </div>
                        </div>

                        {/* Footer */}
                        <div className="flex items-center justify-end p-4 border-t border-gray-100 bg-gray-50">
                            <button
                                onClick={handleProceed}
                                disabled={!isAgreed || internetStatus !== 'connected'}
                                className="px-6 py-2 rounded-lg font-medium text-sm btn-primary"
                            >
                                Proceed
                            </button>
                        </div>
                    </div>
                </div>
            );
        }

        function AudioCheckModal({ isOpen, onClose, onProceed }) {
            const [recordingState, setRecordingState] = useState('initial');
            const [liveTranscript, setLiveTranscript] = useState('');
            const [recordedResponse, setRecordedResponse] = useState('');
            const [timer, setTimer] = useState(0);
            
            const expectedPhrase = "Welcome to the test.";
            const mediaRecorderRef = React.useRef(null);
            const timerRef = React.useRef(null);

            useEffect(() => {
                if (!isOpen) {
                    // Reset state when modal closes
                    setRecordingState('initial');
                    setLiveTranscript('');
                    setRecordedResponse('');
                    setTimer(0);
                    if (timerRef.current) {
                        clearInterval(timerRef.current);
                    }
                }
            }, [isOpen]);

            const handleOverlayClick = (event) => {
                if (event.target === event.currentTarget) {
                    onClose();
                }
            };

            const startRecording = async () => {
                try {
                    const stream = await navigator.mediaDevices.getUserMedia({ audio: true });
                    const mediaRecorder = new MediaRecorder(stream);
                    mediaRecorderRef.current = mediaRecorder;
                    
                    setRecordingState('recording');
                    setTimer(0);
                    setLiveTranscript('');
                    
                    // Start timer
                    timerRef.current = setInterval(() => {
                        setTimer(prev => prev + 1);
                    }, 100);

                    // Simulate live transcript
                    let transcriptParts = ['', 'To', 'To the', 'To the test', 'Welcome', 'Welcome to', 'Welcome to the', 'Welcome to the test'];
                    let partIndex = 0;
                    
                    const transcriptInterval = setInterval(() => {
                        if (partIndex < transcriptParts.length) {
                            setLiveTranscript(transcriptParts[partIndex]);
                            partIndex++;
                        } else {
                            clearInterval(transcriptInterval);
                        }
                    }, 300);

                    mediaRecorder.start();
                    
                    mediaRecorder.ondataavailable = (event) => {
                        // Handle audio data
                    };

                    mediaRecorder.onstop = () => {
                        stream.getTracks().forEach(track => track.stop());
                        if (timerRef.current) {
                            clearInterval(timerRef.current);
                        }
                        clearInterval(transcriptInterval);
                    };
                    
                } catch (error) {
                    console.error('Error accessing microphone:', error);
                }
            };

            const submitRecording = () => {
                if (mediaRecorderRef.current && mediaRecorderRef.current.state === 'recording') {
                    mediaRecorderRef.current.stop();
                }
                
                setRecordingState('processing');
                
                // Simulate processing and speech recognition
                setTimeout(() => {
                    const finalTranscript = liveTranscript || 'Welcome to the test.';
                    setRecordedResponse(finalTranscript);
                    
                    // Check if response matches (simplified matching)
                    const normalizedResponse = finalTranscript.toLowerCase().replace(/[.,!?]/g, '').trim();
                    const normalizedExpected = expectedPhrase.toLowerCase().replace(/[.,!?]/g, '').trim();
                    
                    if (normalizedResponse === normalizedExpected) {
                        setRecordingState('success');
                    } else {
                        setRecordingState('error');
                    }
                }, 1500);
            };

            const recordAgain = () => {
                setRecordingState('initial');
                setLiveTranscript('');
                setRecordedResponse('');
                setTimer(0);
            };

            const handleProceed = () => {
                if (recordingState === 'success') {
                    onProceed();
                }
            };

            const formatTime = (timeInTenths) => {
                const seconds = Math.floor(timeInTenths / 10);
                const tenths = timeInTenths % 10;
                return `${seconds.toString().padStart(2, '0')}:${(tenths * 10).toString().padStart(2, '0')}`;
            };

            if (!isOpen) return null;

            return (
                <div 
                    className="fixed inset-0 z-50 flex items-center justify-center modal-backdrop"
                    onClick={handleOverlayClick}
                >
                    <div 
                        className="relative w-full max-w-lg mx-4 bg-white rounded-2xl shadow-2xl overflow-hidden"
                        onClick={(e) => e.stopPropagation()}
                    >
                        {/* Header */}
                        <div className="flex items-center justify-between p-6 border-b border-gray-100">
                            <div className="flex items-center gap-3">
                                <div className="w-8 h-8 bg-purple-50 rounded-lg flex items-center justify-center">
                                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" style={{color: 'var(--primary-900)'}}>
                                        <path d="M12 1v22M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/>
                                    </svg>
                                </div>
                                <h2 className="text-xl font-semibold text-gray-900">Audio Check</h2>
                            </div>
                            <button
                                onClick={onClose}
                                className="w-8 h-8 rounded-lg hover:bg-gray-100 flex items-center justify-center transition-colors"
                            >
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                                    <path d="M18 6L6 18M6 6l12 12"/>
                                </svg>
                            </button>
                        </div>

                        {/* Content */}
                        <div className="p-6">
                            <div className="space-y-6">
                                
                                {/* Instructions */}
                                <div>
                                    <h3 className="text-base font-semibold text-gray-900 mb-3">Instructions:</h3>
                                    <ul className="space-y-2">
                                        <li className="flex items-start gap-2">
                                            <div className="w-1.5 h-1.5 rounded-full mt-2 flex-shrink-0" style={{backgroundColor: 'var(--primary-500)'}}></div>
                                            <span className="text-sm text-gray-700">Make sure your microphone is connected and working properly.</span>
                                        </li>
                                        <li className="flex items-start gap-2">
                                            <div className="w-1.5 h-1.5 rounded-full mt-2 flex-shrink-0" style={{backgroundColor: 'var(--primary-500)'}}></div>
                                            <span className="text-sm text-gray-700">Choose a quiet environment with minimal background noise.</span>
                                        </li>
                                        <li className="flex items-start gap-2">
                                            <div className="w-1.5 h-1.5 rounded-full mt-2 flex-shrink-0" style={{backgroundColor: 'var(--primary-500)'}}></div>
                                            <span className="text-sm text-gray-700">Speak clearly and at a normal pace for accurate recognition.</span>
                                        </li>
                                        <li className="flex items-start gap-2">
                                            <div className="w-1.5 h-1.5 rounded-full mt-2 flex-shrink-0" style={{backgroundColor: 'var(--primary-500)'}}></div>
                                            <span className="text-sm text-gray-700">Wait for the countdown to appear before you start speaking.</span>
                                        </li>
                                    </ul>
                                </div>

                                {/* Test Phrase */}
                                <div>
                                    <p className="text-sm font-medium text-gray-900 mb-2">
                                        Please click "Start Recording" and say the sentence below clearly when the countdown starts.
                                    </p>
                                    <div className="bg-blue-50 p-3 rounded-lg border border-blue-200">
                                        <p className="text-blue-900 font-medium italic">"{expectedPhrase}"</p>
                                    </div>
                                </div>

                                {/* Recording Controls */}
                                {recordingState === 'initial' && (
                                    <div className="flex justify-center">
                                        <button
                                            onClick={startRecording}
                                            className="px-6 py-2 rounded-lg font-medium text-sm btn-primary"
                                        >
                                            Start Recording
                                        </button>
                                    </div>
                                )}

                                {recordingState === 'recording' && (
                                    <div className="space-y-4">
                                        <div className="flex items-center justify-center gap-3">
                                            <button
                                                onClick={submitRecording}
                                                className="px-6 py-2 bg-red-500 text-white rounded-lg font-medium text-sm hover:bg-red-600 transition-colors"
                                            >
                                                Submit Recording
                                            </button>
                                            <div className="flex items-center gap-2">
                                                <div className="w-3 h-3 bg-red-500 rounded-full animate-pulse"></div>
                                                <span className="text-red-600 font-medium text-sm">Recording... {formatTime(timer)}</span>
                                            </div>
                                        </div>

                                        {/* Live Transcript */}
                                        {liveTranscript && (
                                            <div>
                                                <h4 className="text-sm font-medium text-gray-900 mb-2">Live Transcript:</h4>
                                                <div className="bg-gray-50 p-3 rounded-lg border border-gray-200 min-h-[50px] flex items-center">
                                                    <p className="text-gray-700">{liveTranscript}</p>
                                                </div>
                                            </div>
                                        )}

                                        {/* Loading dots */}
                                        <div className="flex justify-center">
                                            <div className="flex gap-1">
                                                <div className="w-2 h-2 bg-blue-500 rounded-full animate-bounce" style={{animationDelay: '0ms'}}></div>
                                                <div className="w-2 h-2 bg-blue-500 rounded-full animate-bounce" style={{animationDelay: '150ms'}}></div>
                                                <div className="w-2 h-2 bg-blue-500 rounded-full animate-bounce" style={{animationDelay: '300ms'}}></div>
                                            </div>
                                        </div>
                                    </div>
                                )}

                                {recordingState === 'processing' && (
                                    <div className="text-center">
                                        <div className="w-8 h-8 border-2 border-t-transparent rounded-full animate-spin mx-auto mb-3" style={{borderColor: 'var(--primary-900)', borderTopColor: 'transparent'}}></div>
                                        <p className="text-gray-600">Processing your response...</p>
                                    </div>
                                )}

                                {(recordingState === 'success' || recordingState === 'error') && (
                                    <div className="space-y-4">
                                        {recordedResponse && (
                                            <div>
                                                <h4 className="text-sm font-medium text-gray-900 mb-2">Your Recorded Response:</h4>
                                                <div className="bg-gray-50 p-3 rounded-lg border border-gray-200">
                                                    <p className="text-gray-700">{recordedResponse}</p>
                                                </div>
                                            </div>
                                        )}

                                        {recordingState === 'success' && (
                                            <div className="flex items-center gap-2 p-3 bg-green-50 rounded-lg border border-green-200">
                                                <div className="w-5 h-5 bg-green-100 rounded-full flex items-center justify-center">
                                                    <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" className="text-green-600">
                                                        <path d="M20 6L9 17l-5-5"/>
                                                    </svg>
                                                </div>
                                                <span className="text-green-700 font-medium text-sm">Your response matched successfully. Please maintain the same pitch and clarity during the interview.</span>
                                            </div>
                                        )}

                                        {recordingState === 'error' && (
                                            <div className="space-y-3">
                                                <div className="flex items-center gap-2 p-3 bg-red-50 rounded-lg border border-red-200">
                                                    <div className="w-5 h-5 bg-red-100 rounded-full flex items-center justify-center">
                                                        <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" className="text-red-600">
                                                            <path d="M18 6L6 18M6 6l12 12"/>
                                                        </svg>
                                                    </div>
                                                    <span className="text-red-700 font-medium text-sm">Your response didn't match. Please record again.</span>
                                                </div>
                                                
                                                <div className="flex justify-center">
                                                    <button
                                                        onClick={recordAgain}
                                                        className="px-6 py-2 bg-blue-500 text-white rounded-lg font-medium text-sm hover:bg-blue-600 transition-colors"
                                                    >
                                                        Record Again
                                                    </button>
                                                </div>
                                            </div>
                                        )}
                                    </div>
                                )}

                            </div>
                        </div>

                        {/* Footer */}
                        <div className="flex items-center justify-end p-4 border-t border-gray-100 bg-gray-50">
                            <button
                                onClick={handleProceed}
                                disabled={recordingState !== 'success'}
                                className="px-6 py-2 rounded-lg font-medium text-sm btn-primary"
                            >
                                Proceed
                            </button>
                        </div>
                    </div>
                </div>
            );
        }

        function FinalConfirmationModal({ isOpen, onClose, onStart }) {
            const [isReady, setIsReady] = useState(false);

            const handleOverlayClick = (event) => {
                if (event.target === event.currentTarget) {
                    onClose();
                }
            };

            const handleStart = () => {
                if (isReady) {
                    onStart();
                }
            };

            if (!isOpen) return null;

            return (
                <div 
                    className="fixed inset-0 z-50 flex items-center justify-center modal-backdrop"
                    onClick={handleOverlayClick}
                >
                    <div 
                        className="relative w-full max-w-lg mx-4 bg-white rounded-2xl shadow-2xl overflow-hidden"
                        onClick={(e) => e.stopPropagation()}
                    >
                        {/* Header */}
                        <div className="bg-gradient-to-r from-purple-50 to-blue-50 p-6 border-b border-gray-100">
                            <div className="text-center">
                                <div className="w-16 h-16 bg-white rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg">
                                    <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" style={{color: 'var(--primary-900)'}}>
                                        <path d="M9 12l2 2 4-4"/>
                                        <path d="M21 12c-1 0-3-1-3-3s2-3 3-3 3 1 3 3-2 3-3 3"/>
                                        <path d="M3 12c1 0 3-1 3-3s-2-3-3-3-3 1-3 3 2 3 3 3"/>
                                        <path d="M12 3c0 1-1 3-3 3s-3-2-3-3 1-3 3-3 3 2 3 3"/>
                                        <path d="M12 21c0-1 1-3 3-3s3 2 3 3-1 3-3 3-3-2-3-3"/>
                                    </svg>
                                </div>
                                <h2 className="text-2xl font-bold text-gray-900 mb-2">Ready to Start?</h2>
                                <p className="text-gray-600">You're all set to begin your AI interview</p>
                            </div>
                        </div>

                        {/* Content */}
                        <div className="p-6">
                            <div className="space-y-6">
                                
                                {/* System Status - Simplified */}
                                <div className="text-center">
                                    <div className="flex items-center justify-center gap-6">
                                        <div className="flex items-center gap-2">
                                            <div className="w-3 h-3 bg-green-500 rounded-full"></div>
                                            <span className="text-sm text-gray-700">Internet</span>
                                        </div>
                                        <div className="flex items-center gap-2">
                                            <div className="w-3 h-3 bg-green-500 rounded-full"></div>
                                            <span className="text-sm text-gray-700">Audio</span>
                                        </div>
                                        <div className="flex items-center gap-2">
                                            <div className="w-3 h-3 bg-green-500 rounded-full"></div>
                                            <span className="text-sm text-gray-700">Camera</span>
                                        </div>
                                    </div>
                                </div>

                                {/* Simple Message */}
                                <div className="text-center">
                                    <p className="text-gray-600 text-sm">
                                        All systems are ready. You can start your interview now.
                                    </p>
                                </div>

                                {/* Final Confirmation */}
                                <div className="bg-gray-50 rounded-lg p-4 border border-gray-200">
                                    <div className="flex items-center gap-3">
                                        <input
                                            type="checkbox"
                                            id="final-ready"
                                            checked={isReady}
                                            onChange={(e) => setIsReady(e.target.checked)}
                                            className="w-4 h-4 border-gray-300 rounded"
                                            style={{accentColor: 'var(--primary-900)'}}
                                        />
                                        <label htmlFor="final-ready" className="text-sm text-gray-700">
                                            I'm ready to start the interview
                                        </label>
                                    </div>
                                </div>

                            </div>
                        </div>

                        {/* Footer */}
                        <div className="flex items-center justify-between p-6 border-t border-gray-100 bg-gray-50">
                            <button
                                onClick={onClose}
                                className="px-6 py-2 rounded-lg font-medium text-sm btn-secondary"
                            >
                                Go Back
                            </button>
                            <button
                                onClick={handleStart}
                                disabled={!isReady}
                                className="px-8 py-2 rounded-lg font-medium text-sm btn-primary flex items-center gap-2"
                            >
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                                    <polygon points="5,3 19,12 5,21"/>
                                </svg>
                                Start Interview
                            </button>
                        </div>
                    </div>
                </div>
            );
        }

        function InterviewInstructionsPage() {
            const [isSpeedCheckOpen, setIsSpeedCheckOpen] = useState(false);
            const [isAudioCheckOpen, setIsAudioCheckOpen] = useState(false);
            const [isFinalConfirmationOpen, setIsFinalConfirmationOpen] = useState(false);

            const handleStartInterview = () => {
                setIsSpeedCheckOpen(true);
            };

            const handleSpeedCheckProceed = () => {
                setIsSpeedCheckOpen(false);
                setIsAudioCheckOpen(true);
            };

            const handleAudioCheckProceed = () => {
                setIsAudioCheckOpen(false);
                setIsFinalConfirmationOpen(true);
            };

            const handleFinalConfirmationStart = () => {
                setIsFinalConfirmationOpen(false);
                alert('Interview would start here!');
            };

            return (
                <div className="min-h-screen bg-gray-50">
                    {/* Header - Keep as is */}
                    <div className="bg-white border-b border-gray-200">
                        <div className="max-w-7xl mx-auto px-6 py-4">
                            <div className="flex items-center justify-between">
                                <h1 className="text-lg font-semibold text-gray-900">AI Interview</h1>
                                
                                {/* Progress dots - Updated with design tokens */}
                                <div className="flex items-center space-x-3">
                                    <div className="w-8 h-8 progress-dot-inactive rounded-full flex items-center justify-center">
                                        <span className="text-white text-sm font-medium">←</span>
                                    </div>
                                    <div className="w-8 h-8 progress-dot-active rounded-full flex items-center justify-center">
                                        <span className="text-white text-sm font-medium">1</span>
                                    </div>
                                    <div className="w-8 h-8 progress-dot-inactive rounded-full flex items-center justify-center">
                                        <span className="text-white text-sm font-medium">→</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    {/* Question Info - Updated with design tokens */}
                    <div className="bg-white border-b border-gray-200">
                        <div className="max-w-7xl mx-auto px-6 py-4">
                            <div className="flex items-center justify-between">
                                <div className="flex items-center space-x-3">
                                    <div className="w-3 h-3 brand-accent rounded-sm"></div>
                                    <span className="text-gray-900 font-medium">Full Stack Developer</span>
                                </div>
                                <div className="flex items-center space-x-6">
                                    <span className="text-sm text-gray-600">Question No. 1 of 1</span>
                                    <button
                                        onClick={handleStartInterview}
                                        className="px-6 py-2.5 rounded-lg font-medium btn-primary"
                                    >
                                        Start Interview
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    {/* Main Content - Aligned with header container */}
                    <div className="max-w-7xl mx-auto px-6 py-10">
                        <div className="bg-white rounded-lg shadow-sm border border-gray-200 p-8">
                            
                            {/* Instructions Header - Better hierarchy */}
                            <div className="text-center mb-10">
                                <h2 className="text-2xl font-semibold text-gray-900 mb-2">Instructions</h2>
                                <p className="text-gray-600">Please review these important guidelines before starting your interview</p>
                            </div>

                            {/* Content - Improved visual hierarchy */}
                            <div className="space-y-8">
                                
                                {/* Internet Speed */}
                                <div>
                                    <h3 className="text-lg font-semibold text-gray-900 mb-3">Internet Speed:</h3>
                                    <p className="text-gray-700 leading-relaxed ml-4">Internet Speed Requirement: Ensure that your internet speed is above 5 Mbps to maintain a stable connection throughout the interview process.</p>
                                </div>

                                {/* Devices */}
                                <div>
                                    <h3 className="text-lg font-semibold text-gray-900 mb-3">Devices:</h3>
                                    <div className="ml-4 space-y-2">
                                        <p className="text-gray-700 leading-relaxed">• Use a desktop or laptop computer for the interview. Avoid using mobile devices or tablets.</p>
                                        <p className="text-gray-700 leading-relaxed">• Ensure your device is charged or connected to power to avoid interruptions.</p>
                                    </div>
                                </div>

                                {/* Language Requirement */}
                                <div>
                                    <h3 className="text-lg font-semibold text-gray-900 mb-3">Language Requirement:</h3>
                                    <p className="text-gray-700 leading-relaxed ml-4">Please communicate in English only. The interview will be conducted entirely in English.</p>
                                </div>

                                {/* Time Management */}
                                <div>
                                    <h3 className="text-lg font-semibold text-gray-900 mb-3">Time Management:</h3>
                                    <p className="text-gray-700 leading-relaxed ml-4">Manage your time efficiently to answer all questions within the allotted timeframe. Failure to do so may impact your overall assessment.</p>
                                </div>

                                {/* Proctored Interview */}
                                <div>
                                    <h3 className="text-lg font-semibold text-gray-900 mb-3">Proctored Interview:</h3>
                                    <p className="text-gray-700 leading-relaxed ml-4">You are being proctored during the interview to ensure fairness and integrity. Any attempt to cheat or use unauthorized resources will result in disqualification.</p>
                                </div>

                                {/* Complete in One Go */}
                                <div>
                                    <h3 className="text-lg font-semibold text-gray-900 mb-3">Complete in One Go:</h3>
                                    <p className="text-gray-700 leading-relaxed ml-4">It is preferred to complete the interview in one session without interruptions. If unable to do so, the result may have some inaccuracy.</p>
                                </div>

                            </div>

                        </div>
                    </div>

                    {/* Internet Speed Check Modal */}
                    <InternetSpeedCheckModal
                        isOpen={isSpeedCheckOpen}
                        onClose={() => setIsSpeedCheckOpen(false)}
                        onProceed={handleSpeedCheckProceed}
                    />

                    {/* Audio Check Modal */}
                    <AudioCheckModal
                        isOpen={isAudioCheckOpen}
                        onClose={() => setIsAudioCheckOpen(false)}
                        onProceed={handleAudioCheckProceed}
                    />

                    {/* Final Confirmation Modal */}
                    <FinalConfirmationModal
                        isOpen={isFinalConfirmationOpen}
                        onClose={() => setIsFinalConfirmationOpen(false)}
                        onStart={handleFinalConfirmationStart}
                    />
                </div>
            );
        }

        function App() {
            return <InterviewInstructionsPage />;
        }

        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>