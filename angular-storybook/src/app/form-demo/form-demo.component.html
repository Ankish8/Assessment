<div class="form-demo">
  <div class="demo-header">
    <h1>Angular Form Component Demo</h1>
    <p>A comprehensive demonstration of the Form component with multiple layouts, validation, and features.</p>
  </div>

  <!-- Configuration Controls -->
  <app-card variant="outlined" padding="medium" className="config-card">
    <div class="config-header">
      <h2>Configuration</h2>
      <p>Adjust the form settings to see different behaviors</p>
    </div>
    
    <div class="config-controls">
      <div class="control-group">
        <label>Layout:</label>
        <div class="button-group">
          <button *ngFor="let layout of layouts" 
                  [class.active]="currentLayout === layout"
                  (click)="changeLayout(layout)"
                  class="config-button">
            {{ layout }}
          </button>
        </div>
      </div>
      
      <div class="control-group">
        <label>Size:</label>
        <div class="button-group">
          <button *ngFor="let size of sizes" 
                  [class.active]="currentSize === size"
                  (click)="changeSize(size)"
                  class="config-button">
            {{ size }}
          </button>
        </div>
      </div>
      
      <div class="control-group">
        <button (click)="resetForms()" class="reset-button">
          Reset All Forms
        </button>
      </div>
    </div>
  </app-card>

  <!-- Demo Forms Container -->
  <div class="demo-forms">
    
    <!-- Basic Form Demo -->
    <app-card variant="elevated" padding="large" className="demo-card">
      <div class="card-header">
        <h2>Basic Form</h2>
        <p>Simple contact form with validation</p>
      </div>
      
      <app-form [formGroup]="basicForm"
                [layout]="currentLayout"
                [size]="currentSize"
                [submitState]="currentSubmitState"
                [validationMode]="'onSubmit'"
                [showCancel]="true"
                [submitText]="'Send Message'"
                [cancelText]="'Clear'"
                ariaLabel="Contact form"
                (onSubmit)="onBasicFormSubmit($event)"
                (onCancel)="onFormCancel()"
                (onValidationChange)="onValidationChange($event)"
                (onFieldChange)="onFieldChange($event)">
        
        <app-input label="Full Name"
                   formControlName="name"
                   [required]="true"
                   placeholder="Enter your full name"
                   helperText="This will be used to identify you">
        </app-input>
        
        <app-input label="Email Address"
                   type="email"
                   formControlName="email"
                   [required]="true"
                   placeholder="Enter your email address"
                   helperText="We'll never share your email">
        </app-input>
        
        <app-input label="Message"
                   formControlName="message"
                   [required]="true"
                   placeholder="Enter your message (minimum 10 characters)"
                   helperText="Please provide as much detail as possible"
                   [className]="currentLayout === 'two-column' || currentLayout === 'grid' ? 'full-width' : ''">
        </app-input>
      </app-form>
    </app-card>

    <!-- Advanced Form Demo -->
    <app-card variant="elevated" padding="large" className="demo-card">
      <div class="card-header">
        <h2>Advanced Form</h2>
        <p>Job application form with complex validation</p>
      </div>
      
      <app-form [formGroup]="advancedForm"
                [layout]="currentLayout"
                [size]="currentSize"
                [submitState]="currentSubmitState"
                [validationMode]="'onChange'"
                [showCancel]="true"
                [submitText]="'Submit Application'"
                [cancelText]="'Save Draft'"
                ariaLabel="Job application form"
                (onSubmit)="onAdvancedFormSubmit($event)"
                (onCancel)="onFormCancel()">
        
        <app-input label="First Name"
                   formControlName="firstName"
                   [required]="true"
                   placeholder="Enter first name">
        </app-input>
        
        <app-input label="Last Name"
                   formControlName="lastName"
                   [required]="true"
                   placeholder="Enter last name">
        </app-input>
        
        <app-input label="Email"
                   type="email"
                   formControlName="email"
                   [required]="true"
                   placeholder="Enter email address"
                   [className]="currentLayout === 'grid' ? 'full-width' : ''">
        </app-input>
        
        <app-input label="Phone"
                   type="tel"
                   formControlName="phone"
                   placeholder="Enter phone number">
        </app-input>
        
        <app-input label="Company"
                   formControlName="company"
                   placeholder="Current company">
        </app-input>
        
        <app-input label="Position"
                   formControlName="position"
                   placeholder="Current position">
        </app-input>
        
        <app-input label="Years of Experience"
                   type="number"
                   formControlName="experience"
                   [required]="true"
                   placeholder="Enter years of experience">
        </app-input>
        
        <app-input label="Skills"
                   formControlName="skills"
                   placeholder="List your key skills">
        </app-input>
        
        <app-input label="Portfolio URL"
                   type="url"
                   formControlName="portfolio"
                   placeholder="https://your-portfolio.com">
        </app-input>
        
        <app-input label="Availability"
                   formControlName="availability"
                   [required]="true"
                   placeholder="When can you start?">
        </app-input>
        
        <app-input label="Expected Salary"
                   type="number"
                   formControlName="salary"
                   [required]="true"
                   placeholder="Enter expected salary">
        </app-input>
        
        <app-input label="Additional Comments"
                   formControlName="comments"
                   placeholder="Any additional information"
                   [className]="currentLayout === 'two-column' || currentLayout === 'grid' ? 'full-width' : ''">
        </app-input>
      </app-form>
    </app-card>

    <!-- Sectioned Form Demo -->
    <app-card variant="elevated" padding="large" className="demo-card">
      <div class="card-header">
        <h2>Sectioned Form</h2>
        <p>Form with collapsible sections and organization</p>
      </div>
      
      <app-form [formGroup]="sectionedForm"
                [layout]="'single'"
                [size]="currentSize"
                [sections]="formSections"
                [submitState]="currentSubmitState"
                [validationMode]="'onBlur'"
                [showCancel]="true"
                [submitText]="'Complete Registration'"
                [cancelText]="'Cancel'"
                ariaLabel="Registration form with sections"
                (onSubmit)="onSectionedFormSubmit($event)"
                (onCancel)="onFormCancel()"
                (onSectionToggle)="onSectionToggle($event)">
        
        <div slot="section-personal-content">
          <app-input label="First Name"
                     formControlName="firstName"
                     [required]="true"
                     placeholder="Enter first name">
          </app-input>
          
          <app-input label="Last Name"
                     formControlName="lastName"
                     [required]="true"
                     placeholder="Enter last name">
          </app-input>
          
          <app-input label="Email Address"
                     type="email"
                     formControlName="email"
                     [required]="true"
                     placeholder="Enter email address">
          </app-input>
        </div>
        
        <div slot="section-contact-content">
          <app-input label="Phone Number"
                     type="tel"
                     formControlName="phone"
                     placeholder="Enter phone number">
          </app-input>
          
          <app-input label="Company"
                     formControlName="company"
                     placeholder="Enter company name">
          </app-input>
          
          <app-input label="Address"
                     formControlName="address"
                     placeholder="Enter your address">
          </app-input>
        </div>
        
        <div slot="section-preferences-content">
          <!-- Note: These would typically be checkbox/toggle components -->
          <app-input label="Newsletter Subscription"
                     formControlName="newsletter"
                     placeholder="Subscribe to newsletter? (true/false)">
          </app-input>
          
          <app-input label="Push Notifications"
                     formControlName="notifications"
                     placeholder="Enable notifications? (true/false)">
          </app-input>
        </div>
      </app-form>
    </app-card>
  </div>

  <!-- Demo Information -->
  <app-card variant="outlined" padding="medium" className="info-card">
    <div class="info-header">
      <h2>Form Status Information</h2>
    </div>
    
    <div class="status-info">
      <div class="status-item">
        <strong>Current Layout:</strong> {{ currentLayout }}
      </div>
      <div class="status-item">
        <strong>Current Size:</strong> {{ currentSize }}
      </div>
      <div class="status-item">
        <strong>Submit State:</strong> {{ currentSubmitState }}
      </div>
      <div class="status-item">
        <strong>Basic Form Valid:</strong> {{ isFormValid ? 'Yes' : 'No' }}
      </div>
      <div class="status-item" *ngIf="formErrors.length > 0">
        <strong>Form Errors:</strong>
        <ul>
          <li *ngFor="let error of formErrors">{{ error }}</li>
        </ul>
      </div>
    </div>
  </app-card>
</div>